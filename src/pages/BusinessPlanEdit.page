<apex:page standardController="Business_Plan_New__c" extensions="BusinessPlanControllerExtension" standardStylesheets="true" showHeader="true" sidebar="true">
    
    <apex:stylesheet value="{!URLFOR($Resource.bpstyles, 'styles.min.css')}" />
    <style>
        .full-width .labelCol,
        .full-width .empty{display:none;}
        .wholetop{
        width:100%;
        
        }
        .leftpart{
        width:55%;
        border: 1px solid black;
        }
    </style>
    <head>
        <style>
            
            .mysuggTable{
            width:55%;
            height:155px;
            Position: Absolute;
            right: 0px;
            top:90px
            
            }
            .mysuggTable .mysuggheader{
            width:100%;
            Position: Relative;
            text-align:center;
            font-weight:bold;
            float:left;
            line-height:25px;
            font-size:1em;
            }
            .mysuggTable .myblankleft{
            width:25%;
            Position: Relative;
            float:left;
            border:1px solid white;
            border-bottom:1px solid black;
            line-height:25px;
            }
            .mysuggTable .mysuggsubheader{
            width: 17.5%;
            Position: Relative;
            font-weight:bold;
            text-align:center;        
            float:left;
            border:1px solid white;
            border-right:0px;
            line-height:25px;
            font-size:0.8em;
            }
            .mysuggTable .myleftheader{
            width:25%;
            Position: Relative;
            float:left;
            line-height:25px;
            border-bottom:1px solid black;
            border-left:1px solid black;
            border-right:1px solid black;
            font-weight:bold;
            font-size:0.8em;
            }
            .mysuggTable .mysuggsubtext{
            width:17.5%;
            Position: Relative;
            float:left;
            line-height:25px;
            text-align: center;
            border:1px solid black;
            border-right:1px solid black;
            font-size:0.8em;
            }
            .mysuggTable .mysuggbottom{
            width:100%;
            Position: Relative;
            line-height:25px;
            text-align:left;
            float:left;
            font-size:0.8em;
            }
        </style>
    </head>
    
    <script>
    var newWin=null; 
    /*function openContactLookup(searchPage, name, id, target, testContact,resultinput,certtarget,certi)  
     {  
            var accountId = "{!bpAccountId}";
            var contactEmail = '{!$Component.contactEmail}';
            var contactPhone = '{!$Component.contactPhone}';
            var contactMobile = '{!$Component.contactMobile}'; 
            var contactFax = '{!$Component.contactFax}'; 
            var contactTitle = '{!$Component.contactTitle}'; 
            var url="{!$Site.prefix}/apex/" + searchPage +"?namef=" + name + "&idf=" + id + "&accId=" + accountId + "&emailf=" + contactEmail + "&phonef=" + contactPhone
                             + "&mobilef=" + contactMobile + "&faxf=" + contactFax + "&titlef=" + contactTitle + "&targetf=" + target + "&isBP=true" + "&tstCont=" + testContact+"&inputvalues="+resultinput+"&certarget="+certtarget+"&certi"+certi;
            newWin=window.open(url, 'Popup','height=500,width=600,left=100,top=100,resizable=no,scrollbars=yes,toolbar=no,status=no');
     
            if (window.focus)    
                {    newWin.focus();   
            }           
            return false;
     }*/
    
    function openContactLookupNew(searchPage, name, id, target, testContact,inputvalues,certtarget,certi,fiscalyear,currform,isgeoaccount,isRegionalAccount)  
    {
        console.debug('saikumar'+isgeoaccount);
        if(isgeoaccount || isRegionalAccount)
        {
            
            if(currform.parentElement.previousElementSibling.children[0].value == 'None')
            {
                alert("Select the Country to proceed");
                return false;
            }
            else
            {
                var geocountryval = currform.parentElement.previousElementSibling.children[0].value;
            }
        }
        var accountId = "{!bpAccountId}";
        var contactEmail = '{!$Component.contactEmail}';
        var contactPhone = '{!$Component.contactPhone}';
        var contactMobile = '{!$Component.contactMobile}'; 
        var contactFax = '{!$Component.contactFax}'; 
        var contactTitle = '{!$Component.contactTitle}'; 
        var url="{!$Site.prefix}/apex/" + searchPage +"?namef=" + name + "&idf=" + id + "&accId=" + accountId + "&emailf=" + contactEmail + "&phonef=" + contactPhone
        + "&mobilef=" + contactMobile + "&faxf=" + contactFax + "&titlef=" + contactTitle + "&targetf=" + target + "&isBP=true" + "&tstCont=" + testContact +"&inputvalues="+inputvalues+"&certarget="+certtarget+"&certi="+certi+"&fiscalyear="+fiscalyear;
        
        if(isgeoaccount|| isRegionalAccount)
        {
            url =url +"&countryVal="+geocountryval;
            
        }
        console.log(url);
        newWin=window.open(url, 'Popup','height=500,width=800,left=100,top=100,resizable=no,scrollbars=yes,toolbar=no,status=no');   
        
        
        if (window.focus)    
        {    newWin.focus();   
        }           
        return false;
    }
    function closeLookupPopup()  
    {     
        
        if (null!=newWin)     
        {        
            newWin.close();     
        }    
        
    }
    function openUserLookupPopup(searchPage,name, id,inp,usr)  
    {
        var txt ='';
        var usrT ='';
        var prtlUsr ="{!isPowerPartner}"; 
        if(document.getElementById(usr) != null)
            usrT =document.getElementById(usr).value;
        // alert('usrType>>'+usrT+'  isPowerPartner  >'+prtlUsr);
        if(document.getElementById(inp) != null)
            txt =document.getElementById(inp).value;
        var accountId = "{!busPlanAccountId}";
        var url="{!$Site.prefix}/apex/" + searchPage +"?namefield=" + name + "&idfield=" + id+"&uName=" + txt +"&aName="+accountId+"&inpField="+inp +"&uType="+usrT;   
        
        newWin=window.open(url, 'Popup','height=500,width=750,left=100,top=100,resizable=no,scrollbars=yes,toolbar=no,status=no');   
        
        if (window.focus)    
        {    newWin.focus();   
        }           return false; 
        
        
    } 
    
    function onGeoCountryChange(currform,isgeoaccount,isregional)
    {
        if(isgeoaccount || isregional){
            currform.parentElement.nextElementSibling.children[0].innerText = '';
            currform.parentElement.nextElementSibling.children[2].value = '';
            currform.parentElement.nextElementSibling.children[3].value = '';
        }
    }
    
    
    </script>
    
    <apex:form >
        <apex:actionFunction name="tabChange" action="{!clickedTab}" reRender="tabPanel,errors,Notes"> 
            <apex:param name="tabName" value="" assignTo="{!intendedTab}"/>
        </apex:actionFunction>
        
        <apex:actionFunction name="SaveBP" action="{!Save}" reRender="tabPanel, errors,Notes" status="saving"/>
        
        <apex:actionFunction name="Discard" action="{!cancel}" reRender="tabPanel, errors,Notes" status="saving"/>
        
        <apex:actionFunction name="check" action="{!checkBeforeSave}" status="saving" reRender="tabPanel, errors,Notes" oncomplete="if({!displayPopUp}){var retVal = confirm('The Business Plan requires re-submission for Approval from the Checkout/Approval tab');if( retVal == true ){SaveBP(); }else{Discard();}} else {SaveBP();}"/>  <!-- PONSE01 Commented code in Oncomplete if({!displayPopUp}){var retVal = confirm('The Business Plan requires re-submission for Approval from the Checkout/Approval tab');if( retVal == true ){SaveBP(); }else{Discard();}}-->

        <apex:actionStatus id="saving" stopText="">
            <apex:facet name="start">
                <apex:outputPanel >
                    <div style="background-color: #dbeefd; opacity: .80; -moz-opacity: 0.80; filter:alpha(opacity=80); position: absolute; left:0;top:0; width:100%; height:100%; z-index: 3;"><apex:image value="/img/loading32.gif" style="height: 40px; position: relative; left:800px;top:300px;"/></div>
                </apex:outputPanel>
            </apex:facet>
        </apex:actionStatus>
        
        
        <apex:actionFunction name="getKey" action="{!getKey}" reRender="tabPanel, errors,Notes"> 
            <apex:param name="prod" value="" assignTo="{!tmpProd}"/>
            <apex:param name="type" value="" assignTo="{!tmpType}"/>             
        </apex:actionFunction>         
        
        <apex:pageBlock title="Business Plan" mode="edit" >
            
            <apex:pageBlockButtons >
                <apex:commandButton oncomplete="check();" value="Save" styleClass="btn" status="saving" />
                <apex:commandButton action="{!cancel}" value="Cancel" styleClass="btn secondary"/>    
            </apex:pageBlockButtons>
            
            <apex:pageMessages id="errors"/>
            
            <apex:tabPanel selectedTab="{!currentTab}" value="{!currentTab}" id="tabPanel" switchType="ajax" immediate="true" activeTabClass="activeTab" disabledTabClass="inactiveTab">
                
                <apex:tab label="{!$Label.BP_Profile}" name="1" disabled="{!profileTabEnabled}" ontabenter="tabChange('1')"  >
                    <p class="larger"><span class="bluehead">{!$Label.BP_Lets_Begin}</span><br/>
                        {!$Label.BP_Company_Details}
                    </p>
                    <br/>
                    <apex:pageBlockSection columns="2">
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$Label.BP_Partner_Profile}" styleClass="greenhead"/>
                            <apex:outputText value="" styleClass="greenhead"/>
                        </apex:pageblockSectionItem> 
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="" styleClass="greenhead"/>
                            <apex:outputText value="" styleClass="greenhead"/>
                        </apex:pageblockSectionItem>
                        <apex:pageblockSectionItem rendered="{!!isApprovedBP}">
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Plan_Fiscal_Year__c.Label}" />
                            <apex:outputPanel > 
                                <apex:outputPanel styleClass="{!IF((incentiveFieldRequired),'requiredInput', '')}" layout="block">
                                    <apex:outputPanel styleClass="{!IF((incentiveFieldRequired),'requiredBlock', '')}" layout="block"/>
                                    <apex:selectList value="{!Business_Plan_New__c.Plan_Fiscal_Year__c}" size="1">
                                        <apex:actionSupport event="onchange" reRender="tabPanel" action="{!calcPlanPeriod}" status="saving"/>  
                                        <apex:selectOptions value="{!BPFYears}"/>
                                    </apex:selectList>       
                                </apex:outputPanel>
                            </apex:outputPanel> 
                        </apex:pageblockSectionItem>
                        <apex:pageblockSectionItem rendered="{!isApprovedBP}">
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Plan_Fiscal_Year__c.Label}" />
                            <apex:outputField value="{!Business_Plan_New__c.Plan_Fiscal_Year__c}" />
                        </apex:pageblockSectionItem>
                        <!--ponse01 US454462 FY19 start  Made changes in Rendered Conditions-->
                        <apex:outputText rendered="{!!ShowIncentivesection && curBPFYear==Null}" value="" />
                       	<apex:outputText rendered="{!!inch && curBPFYear==Null}" value="" />
                        <apex:outputText rendered="{!ShowIncentivesection && curBPFYear==Null}" value="" />
                        
                        
                        <apex:pageblockSectionItem rendered="{!Business_Plan_New__c.Incentive_Readonly__c && ShowIncentivesection && curBPFYear!=Null  && curBPFYear<2019}">
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Incentive__c.Label}" />
                            <apex:outputField value="{!Business_Plan_New__c.Incentive__c}" />
                        </apex:pageblockSectionItem>
                        <apex:pageblockSectionItem rendered="{!!Business_Plan_New__c.Incentive_Readonly__c && ShowIncentivesection  && curBPFYear!=Null && curBPFYear<2019}">
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Incentive__c.Label}" />
                            <apex:outputPanel > 
                                <div class="requiredInput" layout="block">
                                    <div class="requiredBlock" layout="block"/>
                                    <apex:inputField value="{!Business_Plan_New__c.Incentive__c}"/>
                                </div>
                            </apex:outputPanel>
                        </apex:pageblockSectionItem>
                        <!--ponse01 US454462 FY19 END  -->
                        <apex:pageblockSectionItem rendered="{!!ShowIncentivesection}">     
                        </apex:pageblockSectionItem>
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Account_Name__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.Account_Name__c}"/>
                        </apex:pageblockSectionItem>                          
                        
                        <apex:pageblockSectionItem rendered="{!logoError}">
                            <apex:outputLabel value="{!$Label.BP_Partner_Logo}"/>
                            <apex:outputLabel value="{!$Label.no_logo_exists}"/>
                        </apex:pageblockSectionItem> 
                        <apex:pageblockSectionItem rendered="{!IF(logoError, false, true)}">
                            <apex:outputLabel value="{!$Label.BP_Partner_Logo}"/>
                            <apex:image height="50" width="150" rendered="{!NOT(ISNULL(logoAttachmentID))}" value="{!URLFOR($Action.Attachment.Download, logoAttachmentID)}"/>
                        </apex:pageblockSectionItem>                     
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Account_Description__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.Account_Description__c}"/>
                        </apex:pageblockSectionItem>
                        <!-- <apex:pageblockSectionItem >
<apex:outputLabel value="Physical Address"/>
<apex:outputText value="{!myAccountAddress}"/>
</apex:pageblockSectionItem> -->
                        
                        <apex:outputText value="" styleClass="dataCol first "/>
                        
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Account_Billing_Street__c.Label}"/>
                            <apex:outputtext value="{!Business_Plan_New__c.Account_Billing_Street__c}"/>
                        </apex:pageblockSectionItem>
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Account_Billing_State__c.Label}"/>                                                                                 
                            <apex:outputtext value="{!Business_Plan_New__c.Account_Billing_State__c}"/>
                        </apex:pageblockSectionItem>                    
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Account_Billing_City__c.Label}"/>                                        
                            <apex:outputtext value="{!Business_Plan_New__c.Account_Billing_City__c}"/>
                        </apex:pageblockSectionItem>                    
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Account_Billing_Zip__c.Label}"/>                                        
                            <apex:outputtext value="{!Business_Plan_New__c.Account_Billing_Zip__c}"/>                      
                        </apex:pageblockSectionItem>                    
                        
                        <!--<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputField value="{!Business_Plan_New__c.Physical_Street__c}"/>                                                              
<apex:inputField value="{!Business_Plan_New__c.Physical_State_Province__c}"/>                    
<apex:inputField value="{!Business_Plan_New__c.Physical_City__c}"/>                    
<apex:inputField value="{!Business_Plan_New__c.Physical_Zip_Postal_Code__c}"/> -->                                                                               
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Reseller_Distributor_ID__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.Reseller_Distributor_ID__c}"/>
                        </apex:pageblockSectionItem> 
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Account_Country_Picklist__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.Account_Country_Picklist__c}"/>
                        </apex:pageblockSectionItem>  
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.DUNS_Number__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.DUNS_Number__c}"/>
                        </apex:pageblockSectionItem>   
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.GEO__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.GEO__c}"/>
                        </apex:pageblockSectionItem> 
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.DUNS_Name__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.DUNS_Name__c}"/>
                        </apex:pageblockSectionItem>
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Phone__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.Phone__c}"/>
                        </apex:pageblockSectionItem>                                                                                                                                                                                                            
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Creator_Language__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.Creator_Language__c}"/>
                        </apex:pageblockSectionItem>  
                        
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Website__c.Label}"/>
                            <apex:outputtext value="{!Business_Plan_New__c.Website__c}"/>
                        </apex:pageblockSectionItem>
                        
                        
                        
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Creator_Currency__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.Creator_Currency__c}"/>
                            
                            
                        </apex:pageblockSectionItem>
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        
                        
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Plan_Period_From__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.Plan_Period_From__c}"/>
                        </apex:pageblockSectionItem>                    
                        
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Plan_Period_To__c.Label}"/>
                            <apex:outputText value="{!Business_Plan_New__c.Plan_Period_To__c}"/>
                        </apex:pageblockSectionItem>
                        <apex:outputText value="" styleClass="dataCol first "/>
                        <apex:outputText value="" styleClass="dataCol first "/>
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="{!$Label.BP_Route_to_Market}" styleClass="greenhead"/>
                            <apex:outputText value="" styleClass="greenhead"/>
                        </apex:pageblockSectionItem> 
                        <apex:pageblockSectionItem >
                            <apex:outputLabel value="" styleClass="greenhead"/>
                            <apex:outputText value="" styleClass="greenhead"/>
                        </apex:pageblockSectionItem>  
                        
                        
                        <apex:pageblockSectionItem >
                            <apex:outputLabel style="font-weight:bold;" value="{!$ObjectType.Business_Plan_New__c.Fields.Alliance__c.Label}" />
                            <apex:outputField value="{!Business_Plan_New__c.Alliance__c}"/>
                        </apex:pageblockSectionItem>                    
                        <apex:pageblockSectionItem >
                            <apex:outputLabel style="font-weight:bold;" value="{!$ObjectType.Business_Plan_New__c.Fields.Service_Provider__c.Label}" />
                            <apex:outputField value="{!Business_Plan_New__c.Service_Provider__c}"/>
                        </apex:pageblockSectionItem>                     
                        <apex:outputField value="{!Business_Plan_New__c.Alliance_Type__c}"/>
                        <apex:outputField value="{!Business_Plan_New__c.Service_Provider_Type__c}"/>
                        <apex:outputField value="{!Business_Plan_New__c.Alliance_Designation__c}"/>
                        <apex:outputField value="{!Business_Plan_New__c.Service_Provider_Designation__c}"/>
                        <apex:outputField value="{!Business_Plan_New__c.Primary_RTM_Alliance__c}"/>
                        <apex:outputField value="{!Business_Plan_New__c.Primary_RTM_Servide_Provider__c}"/>
                        
                        <apex:pageblockSectionItem rendered="{!WarningMessage}">
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Alliance_Program_Level__c.Label}" />
                            <apex:outputField value="{!Business_Plan_New__c.Alliance_Program_Level__c}"/>
                        </apex:pageblockSectionItem>    
                        <apex:outputField rendered="{!!WarningMessage}" value="{!Business_Plan_New__c.Alliance_Program_Level__c}"/> 
                        
                        <apex:pageblockSectionItem rendered="{!WarningMessage}">
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Service_Provider_Program_Level__c.Label}" />
                            <apex:outputField value="{!Business_Plan_New__c.Service_Provider_Program_Level__c}"/>
                        </apex:pageblockSectionItem>                     
                        <apex:outputField rendered="{!!WarningMessage}" value="{!Business_Plan_New__c.Service_Provider_Program_Level__c}"/>
                        
                        <apex:outputText value="" styleClass="dataCol first "/>
                        <apex:outputText value="" styleClass="dataCol first "/>
                        <apex:pageblockSectionItem >
                            <apex:outputLabel style="font-weight:bold;" value="{!$ObjectType.Business_Plan_New__c.Fields.Solution_Provider__c.Label}" />
                            <apex:outputField value="{!Business_Plan_New__c.Solution_Provider__c}"/>
                        </apex:pageblockSectionItem>    
                        
                        
                        <apex:pageblockSectionItem >
                            <!--MANAR08 AR:2267
<apex:outputLabel style="font-weight:bold;" value="{!$ObjectType.Business_Plan_New__c.Fields.Data_Management__c.Label}" />
<apex:inputField value="{!Business_Plan_New__c.Data_Management__c}"/>
-->
                        </apex:pageblockSectionItem>
                        
                        <apex:outputField value="{!Business_Plan_New__c.Solution_Provider_Type__c}"/>
                        <!-- MANAR08 AR:2267 <apex:inputField value="{!Business_Plan_New__c.DM_Type__c}"/>  -->
                        <apex:outputText value="" />
                        <apex:outputField value="{!Business_Plan_New__c.Solution_Provider_Designation__c}"/>
                        <!-- MANAR08 AR:2267 <apex:inputField value="{!Business_Plan_New__c.DM_Designation__c}"/> -->
                        <apex:outputText value="" />
                        <apex:outputField value="{!Business_Plan_New__c.Primary_RTM_Solution_Provider__c}"/>
                        <!-- MANAR08 AR:2267 <apex:inputField value="{!Business_Plan_New__c.Primary_RTM_DM__c}"/> -->
                        <apex:outputText value="" />
                        <apex:pageblockSectionItem rendered="{!WarningMessage}">
                            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Solution_Provider_Program_Level__c.Label}" />
                            <apex:outputField value="{!Business_Plan_New__c.Solution_Provider_Program_Level__c}"/>
                        </apex:pageblockSectionItem>     
                        <apex:outputField rendered="{!!WarningMessage}" value="{!Business_Plan_New__c.Solution_Provider_Program_Level__c}"/>              
                        
                        
                        <!-- MANAR08 AR:2267 <apex:inputField value="{!Business_Plan_New__c.DM_Program_Level__c}" label="{!$Label.BP_DM_Program_Level}"/> -->
                        <apex:outputText value="" />
                    </apex:pageBlockSection>                
                    
                    <apex:commandButton value="{!$Label.BP_Next +' >'}" action="{!nextTab}" reRender="tabPanel,errors" styleClass="btn next" oncomplete="scroll(0, 0)"/>
                    
                    <br/><apex:outputtext rendered="{!WarningMessage}" Style="color:red" value="{!$Label.BP_Warning_Message}"/>
                </apex:tab>
                
                <apex:tab label="{!$Label.BP_Territory}" name="2" disabled="{!territoryTabEnabled}" ontabenter="tabChange('2')">
                    
                    <p class="larger"><span class="bluehead">{!$Label.BP_Select_the_regions_and_markets_where_you_have_a_presence_and_will_target}</span><br/>
                        {!$Label.BP_First_select_a_region_then_the_corresponding_target_markets_and_countries_wh}
                    </p>
                    <br/>            
                    <apex:pageblockSection columns="1">                            
                        
                    </apex:pageblocksection>
                    <br />
                    
                    <apex:outputpanel id="TerritoryPanel">
                        <table class="territory middle check-right">
                            <tr class="territory-row">
                                <th>{!$Label.BP_Region}</th>
                                <th>{!$Label.BP_Target_Markets}</th>
                                <th>{!$Label.BP_Countries}</th>
                            </tr>
                            
                            <tr class="territory-row alt">
                                <td style="white-space:nowrap">
                                    <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.WW__c.Label}"/>&nbsp;&nbsp;&nbsp;&nbsp;                    
                                    <apex:inputcheckbox id="CB_WW" onclick="radioClick()" onchange="autoPopulateRegionCheckboxes()" value="{!Business_Plan_New__c.WW__c}" label="{!$ObjectType.Business_Plan_New__c.Fields.WW__c.Label}">
                                        <!--<apex:actionSupport event="onchange" rerender="TerritoryPanel" action="{!WWClick}"/>-->
                                    </apex:inputcheckbox>
                                    <script>
                                    function radioClick()
                                    {
                                        this.blur();  
                                        this.focus(); 
                                        //autoPopulateRegionCheckboxes(); 
                                    }    
                                    
                                    function autoPopulateRegionCheckboxes()
                                    {
                                        var isChecked = document.getElementById('{!$Component.CB_WW}').checked;
                                        //US467145 changes - new Geo location (PS/CAN) added
                                        document.getElementById('{!$Component.CB_PS_CAN}').checked = isChecked;
                                        //US467145 changes end
                                        document.getElementById('{!$Component.CB_NA}').checked = isChecked;
                                        document.getElementById('{!$Component.CB_LA}').checked = isChecked;
                                        document.getElementById('{!$Component.CB_EMEA}').checked = isChecked;
                                        document.getElementById('{!$Component.CB_APJ}').checked = isChecked;
                                    }                            
                                    </script>
                                    
                                </td>
                                <td>                             
                                    
                                </td>
                                <td>                            
                                    
                                </td>
                            </tr>                
                            <!--US467145 changes - new Geo location (PS/CAN) added -->
                            <tr class="territory-row">
                                <td>
                                    <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.PS_CAN__c.Label}"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <apex:inputcheckbox id="CB_PS_CAN" value="{!Business_Plan_New__c.PS_CAN__c}">
                                        
                                    </apex:inputcheckbox>
                                </td>
                                <td>                             
                                    <apex:inputField value="{!Business_Plan_New__c.PS_CAN_Operating_Area__c}"/> 
                                </td>
                                <td>                            
                                    <apex:inputfield value="{!Business_Plan_New__c.PS_CAN_Countries__c}"/>   
                                </td>
                            </tr>
                            <!--US467145 changes end-->
                            <tr class="territory-row">
                                <td>
                                    <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.NA__c.Label}"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <apex:inputcheckbox id="CB_NA" value="{!Business_Plan_New__c.NA__c}">
                                        
                                    </apex:inputcheckbox>
                                </td>
                                <td>                             
                                    <apex:inputField value="{!Business_Plan_New__c.NA_Operating_Areas__c}"/> 
                                </td>
                                <td>                            
                                    <apex:inputfield value="{!Business_Plan_New__c.NA_Countries__c}"/>   
                                </td>
                            </tr>
                            
                            <tr class="territory-row alt">
                                <td>
                                    <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.LA__c.Label}"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <apex:inputcheckbox id="CB_LA" value="{!Business_Plan_New__c.LA__c}"/>
                                </td>
                                
                                <td>                             
                                    <apex:inputField value="{!Business_Plan_New__c.LA_Operating_Areas__c}"/> 
                                </td>
                                
                                <td>                            
                                    <apex:inputfield value="{!Business_Plan_New__c.LA_Countries__c}"/>   
                                </td>
                            </tr>
                            
                            <tr class="territory-row">
                                <td>
                                    <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.EMEA__c.Label}"/>&nbsp;&nbsp;&nbsp;
                                    <apex:inputcheckbox id="CB_EMEA" value="{!Business_Plan_New__c.EMEA__c}"/>
                                </td>
                                
                                <td>                             
                                    <apex:inputField value="{!Business_Plan_New__c.EMEA_Operating_Areas__c}"/> 
                                </td>
                                
                                <td>                            
                                    <apex:inputfield value="{!Business_Plan_New__c.EMEA_Countries__c}"/>   
                                </td>
                            </tr>
                            
                            <tr class="territory-row alt">
                                <td>
                                    <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.APJ__c.Label}"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <apex:inputcheckbox id="CB_APJ" value="{!Business_Plan_New__c.APJ__c}"/>
                                </td>
                                
                                <td>                             
                                    <apex:inputField value="{!Business_Plan_New__c.APJ_Operating_Areas__c}"/> 
                                </td>
                                
                                <td>                            
                                    <apex:inputfield value="{!Business_Plan_New__c.APJ_Countries__c}"/>   
                                </td>
                            </tr>                                                
                        </table>
                    </apex:outputpanel>
                    
                    <br></br>
                <br></br>                
            <apex:commandButton value="{!'< ' + $Label.BP_Prev}" action="{!prevTab}" reRender="tabPanel,Notes" styleClass="btn prev" oncomplete="scroll(0, 0)"/>
            <apex:commandButton value="{!$Label.BP_Next + ' >'}" action="{!nextTab}" reRender="tabPanel,errors,Notes" styleClass="btn next" oncomplete="scroll(0, 0)"/>
        </apex:tab>
        
        <!--
<apex:tab label="{!$Label.BP_Go_To_Market}" name="3" disabled="{!GTMTabEnabled}" ontabenter="tabChange('3')">

<p class="larger"><span class="bluehead">{!$Label.BP_Describe_the_strategy_for_solving_problems_for_customers_in_the_markets}</span><br/>
{!$Label.BP_Please_document_the_go_to_market_strategy_that_will_enable_our_joint_efforts}
</p>
<br/>             

<apex:pageBlockSection columns="1">            
<apex:inputfield value="{!Business_Plan_New__c.GTM_Q1__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_Q2__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_Q3__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_Q4__c}" label="{!$Label.BP_Joint_Value_Proposition_to_Customers}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_Q5__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_Q6__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_Q7__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_Q8__c}" label="{!$Label.BP_Partner_Strategy_for_Differentiation}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_Q11__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_Q12__c}"/>
<apex:outputText value="" styleClass="dataCol first "/> 
<apex:inputfield value="{!Business_Plan_New__c.Target_Sector__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Target_Vertical__c}"/>            
</apex:pageBlockSection>

<apex:pageBlockSection title="{!$Label.BP_MSO_Opportunity}" columns="2" rendered="{!IsMSP}">
<apex:inputfield value="{!Business_Plan_New__c.MSO_Opportunity_Name__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q2__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q3__c}" label="{!$Label.BP_LOB_Revenue_as_of_Total_Revenue}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q4__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q5__c}" label="{!$Label.BP_Name_of_Managed_Service_Offering}"/>
<apex:outputText value="" styleClass="dataCol first "/>                    
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q6__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q7__c}" label="{!$Label.BP_Business_Objective_Comments}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q8__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q9__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q10__c}" label="{!$Label.BP_Target_Geographies_Comments}"/>
<apex:outputText value="" styleClass="dataCol first "/>
-->         
        
        <!--<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q11__c}"/>-->
        <!--
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q12__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q13__c}" label="{!$Label.BP_Market_Attractiveness_Score_Comments}"/>                                                                                                                                                                                    
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q14__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q15__c}" label="{!$Label.BP_Strength_of_Offering_Comments}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q16__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q17__c}" label="{!$Label.BP_Competitive_Position_Comments}"/>
<apex:inputfield value="{!Business_Plan_New__c.GTM_SP_Q18__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
</apex:pageBlockSection>     

<apex:pageBlockSection title="{!$Label.BP_Platform_Rationalization_Opportunity}" columns="2" rendered="{!IsMSP}">
<apex:inputfield value="{!Business_Plan_New__c.Number_of_data_centers__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.Geography_distribution__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.Data_Center_Tiers__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.Real_estate_ownership__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.Business_Performance__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.Insourcing_Multi_sourcing__c}" label="{!$Label.BP_Insourcing_Multi_sourcing}"/>
<apex:outputText value="" styleClass="dataCol first "/>
-->
        <!--<apex:inputfield required="true" value="{!Business_Plan_New__c.ROI_Expectations__c}"/>-->
        <!--
<apex:outputText value="" styleClass="dataCol first "/>                    
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.Capability_1__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Capability_2__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Desired_State_1__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Desired_State_2__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Current_State_1__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Current_State_2__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Rationalization_Opportunities_1__c}"/>  
<apex:inputfield value="{!Business_Plan_New__c.Rationalization_Opportunities_2__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>                    
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.Capability_3__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Capability_4__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Desired_State_3__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Desired_State_4__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Current_State_3__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Current_State_4__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Rationalization_Opportunities_3__c}"/>  
<apex:inputfield value="{!Business_Plan_New__c.Rationalization_Opportunities_4__c}"/>
<apex:outputText value="" styleClass="dataCol first "/>                    
<apex:outputText value="" styleClass="dataCol first "/>
<apex:inputfield value="{!Business_Plan_New__c.Capability_5__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Capability_6__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Desired_State_5__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Desired_State_6__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Current_State_5__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Description_of_Current_State_6__c}"/>
<apex:inputfield value="{!Business_Plan_New__c.Rationalization_Opportunities_5__c}"/>  
<apex:inputfield value="{!Business_Plan_New__c.Rationalization_Opportunities_6__c}"/>                                                                                                                                                                                                                                                                   
</apex:pageBlockSection>                 

<br></br>
<br></br>                  
<apex:commandButton value="{!'< '+ $Label.BP_Prev}" action="{!prevTab}" reRender="tabPanel,Notes" styleClass="btn prev" oncomplete="scroll(0, 0)"/>
<apex:commandButton value="{!$Label.BP_Next + ' >'}" action="{!nextTab}" reRender="tabPanel" styleClass="btn next" oncomplete="scroll(0, 0)"/>
</apex:tab>
-->
        <apex:tab label="{!$Label.BP_Solutions}" name="3" disabled="{!solutionsTabEnabled}" ontabenter="tabChange('3')">
            <p class="larger">
                <span class="bluehead">
                    {!$Label.BP_Select_the_primary_solutions_to_focus_on_taking_to_market}
                </span>
                <br />      
                <div class="larger"  style="display: {!IF((isGeoAccount),'', 'none')};">{!$Label.BP_Geo_Solution_Message}<br /></div>
            <div class="larger" style="display: {!IF((isGeoAccount),'none', '')};">{!$Label.BP_Identify_your_go_to_market_solutions_by}<br /></div>
            <span style="font-weight:bold;display: {!IF((isGeoAccount),'none', '')};"> 
                {!$Label.BP_IncubateProduct_Label} 
                <br /><br /> </span>  <!--samap01 -->
            <span style="color:#00B0F0;display: {!IF((isGeoAccount),'none', '')};" > 
                <b>
                    <div>{!$Label.BP_Solutions_Tab_Message1}<br /></div>
                    <div>{!$Label.BP_Solutions_Tab_Message2}<br />   </div>   
                </b>
            </span>
        </p>  
        
        
        <apex:pageBlockSection columns="1">
            <apex:pageblocksectionItem >
                
                <apex:outputlabel value="{!$Label.BP_Route_to_Market}" for="RTMvalues" />
                
                <apex:selectList value="{!SolutionRTM}" size="1" id="RTMvalues">
                    <apex:actionSupport event="onchange" reRender="tabPanel, RTMBUs,RTMPGs,JSOField,JSOLabel,ISIP" action="{!clearBUPG}" status="msg_refresh"/>
                    <apex:selectOptions value="{!RTMs}"/>
                </apex:selectList>
                
            </apex:pageblocksectionItem>
            
            <apex:pageblocksectionItem >
                <apex:outputlabel value="{!$Label.BP_Business_Unit}" for="RTMBUs" />
                <apex:selectList value="{!SolutionBU}" size="1" id="RTMBUs">
                    <apex:actionSupport event="onchange" reRender="RTMPGs,ISIP" action="{!clearCheckbox}" status="msg_refresh"/>
                    <apex:selectOptions value="{!BUs}"/>
                </apex:selectList>
            </apex:pageblocksectionItem>   
            
            <apex:pageblocksectionItem >
                <apex:outputlabel value="{!$Label.BP_Product_Group}" for="RTMPGs" rendered="{!IF(isGeoAccount==true, false, true)}" />
                <apex:selectList value="{!SolutionPG}" size="1" id="RTMPGs"  rendered="{!IF(isGeoAccount==true, false, true)}">
                    <!--samap01 -->
                    <apex:actionSupport event="onchange" reRender="ISIP" action="{!clearCheckbox}" status="msg_refresh" />
                    <apex:selectOptions value="{!ProductGroups}" />
                </apex:selectList>
            </apex:pageblocksectionItem> 
            <!--samap01 10/31 -US238106    Is_Incubate_Product__c-->
            <apex:pageblocksectionItem >
                <apex:outputlabel value="{!$Label.BP_IsIncubateProduct}" for="RTMPGs" rendered="{!IF(isGeoAccount==true, false, true)}" />
                <apex:inputCheckbox id="ISIP" value="{!Business_Plan_New__c.Is_Incubate_Product__c}"  rendered="{!IF(isGeoAccount==true, false, true)}" />
            </apex:pageblocksectionItem>                                 
            <!-- samap01 -->
            <apex:pageblocksectionItem >
                <apex:outputLabel id="JSOLabel" rendered="{!IF(SolutionRTM=='Alliance', true, false)}" value="{!$Label.BP_JSO_Name}"/>
                <apex:inputfield id="JSOField" rendered="{!IF(SolutionRTM=='Alliance', true, false)}" value="{!Business_Plan_New__c.JSO_Name__c}"/>
            </apex:pageblocksectionItem>                    
            <apex:actionStatus id="msg_refresh" stopText="">
                <apex:facet name="start">
                    <apex:outputPanel >
                        <div style="background-color: #dbeefd; opacity: .80; -moz-opacity: 0.80; filter:alpha(opacity=80); position: absolute; left:0;top:0; width:100%; height:100%; z-index: 3;"><apex:image value="/img/loading32.gif" style="height: 40px; position: relative; left:400px;top:200px;"/></div>
                    </apex:outputPanel>
                </apex:facet>
            </apex:actionStatus>
            <apex:actionStatus id="Refreshing" startText="Loading..." stopText="" styleClass="second-column" />                                                                          
            <apex:commandButton value="{!'+ ' + $Label.BP_Add}" disabled="{!isAddDisabled}" action="{!AddProduct}" rerender="PGTable,errors" styleClass="btn add second-column"/>                                    
            <apex:outputText value="" styleClass="dataCol first "/>
            <apex:outputPanel id="PGTable">
                
                <apex:pageBlockTable value="{!AddedPGs}" var="PG">
                    
                    <apex:column value="{!PG.myRTM}"> 
                        <apex:facet name="header">
                            {!$Label.BP_Route_to_Market}
                        </apex:facet>    
                    </apex:column>        
                    <apex:column value="{!PG.myBU}"> 
                        <apex:facet name="header">
                            {!$Label.BP_Business_Unit}
                        </apex:facet>    
                    </apex:column>            
                    <apex:column value="{!PG.myPG}" rendered="{!IF(isGeoAccount==true, false, warningMessage)}"> 
                        <apex:facet name="header">
                            <apex:outputtext Style="color:red"  value="{!$Label.BP_Product_Group}" />
                        </apex:facet>    
                    </apex:column>        
                    <apex:column value="{!PG.myPG}" rendered="{!IF(isGeoAccount==true, false, !warningMessage)}"> 
                        <apex:facet name="header">
                            <apex:outputtext value="{!$Label.BP_Product_Group}" style="display: {!IF((isGeoAccount),'none', '')};" />
                        </apex:facet>    
                    </apex:column> 
                    <!--samap01 10/31 -US238106    Is_Incubate_Product__c -->
                    <apex:column value="{!PG.Is_Incubate_Product}" rendered="{!IF(isGeoAccount==true, false, true)}"> 
                        <apex:facet name="header" >
                            <apex:outputtext value="{!$Label.BP_IsIncubateProduct}" style="display: {!IF((isGeoAccount),'none', '')};" />                               
                        </apex:facet>    
                    </apex:column> 
                    <!--samap01  -->
                    <apex:column value="{!PG.myJSO}"> 
                        <apex:facet name="header">
                            {!$Label.BP_JSO_Name}
                        </apex:facet>    
                    </apex:column>                                                
                    <apex:column styleClass="center">
                        <apex:facet name="header">
                            <span class="trash">delete</span>
                        </apex:facet>
                        
                        <apex:commandButton value="X" action="{!delSolRow}" rerender="PGTable" styleClass="btn delete">                                    
                            <apex:param name="Del" value="{!PG.counter}" assignTo="{!delSolutionCounter}"/>                
                        </apex:commandButton>
                    </apex:column>  
                </apex:pageBlockTable>                     
                
                
            </apex:outputPanel>
            <apex:outputText value="" styleClass="dataCol first "/>                                        
        </apex:pageBlockSection>  
        <apex:pageBlockSection >                  
            <apex:commandButton value="{!'< ' + $Label.BP_Prev}" action="{!prevTab}" reRender="tabPanel,Notes" styleClass="btn prev" oncomplete="scroll(0, 0)"/>
            <apex:commandButton value="{!$Label.BP_Next + ' >'}" action="{!nextTab}" reRender="tabPanel,errors" styleClass="btn next" oncomplete="scroll(0, 0)"/>
        </apex:pageBlockSection>
        <br/><apex:outputtext rendered="{!warningMessage}" Style="color:red" value="{!$Label.BP_Warning_Message2}"/>                
    </apex:tab>
    <apex:tab label="{!$Label.BP_Resources}" name="4" disabled="{!trainingTabEnabled}" ontabenter="tabChange('4')">
        
        <p class="larger"><span class="bluehead">{!$Label.BP_Nominate_your_resources_for_enablement}</span><br/>
            {!$Label.BP_Based_on_your_Routes_to_Market_and_Product_Groups_selected_now_nominate_your}
        </p>
        <br/>             
        <apex:pageBlockSection columns="2" id="wholetop">
            
            <apex:pageBlockSection columns="2" id="leftpart">
                <apex:pageblocksectionItem dataStyle="float:left; width:170px;" labelStyle="float:left; width:170px;"  >
                    <apex:outputlabel value="{!$Label.BP_Route_to_Market}" for="TrRTMvalues" style="color:#00a3cc; font-size: 1em;" />
                </apex:pageblocksectionItem>
                <apex:pageblocksectionItem >
                    <apex:selectList value="{!TrainingRTM}" size="1" id="TrRTMvalues">
                        <apex:actionSupport event="onchange" reRender="tabPanel,TrRTMPGs" action="{!clearTrainingPG}" status="msg_refresh1"/>
                        <apex:selectOptions value="{!TrainingRTMs}"/>
                    </apex:selectList>
                </apex:pageblocksectionItem>
                <!-- samap01 -us293050 * us293051 -->
                <apex:pageblocksectionItem rendered="{!IF(isGeoAccount==true, true, false)}" dataStyle="float:left; width:170px;" labelStyle="float:left; width:170px;" >
                    <apex:outputlabel value="{!$Label.BP_Business_Unit}" for="TrBUs" style="color:#00a3cc; font-size: 1em;" />
                </apex:pageblocksectionItem>                 
                <apex:pageblocksectionItem rendered="{!IF(isGeoAccount==true, true, false)}" >
                    <apex:selectList value="{!TrainingBU}" size="1" id="TrBUs">
                        <apex:actionSupport event="onchange" reRender="TrRTMPGs" action="{!clearTrainingPG}" status="msg_refresh"/>
                        <apex:selectOptions value="{!TrainingBUs}"/>
                    </apex:selectList>
                </apex:pageblocksectionItem> 
                <!--samap01-->
                <apex:pageblocksectionItem dataStyle="float:left; width:170px;" labelStyle="float:left; width:170px;">
                    <apex:outputlabel value="{!$Label.BP_Product_Group}" for="TrRTMPGs" style="color:#00a3cc; font-size: 1em;"/>
                </apex:pageblocksectionItem>     
                <apex:pageblocksectionItem >   
                    <apex:selectList value="{!TrainingPG}" size="1" id="TrRTMPGs">
                        <apex:selectOptions value="{!TrainingPGs}"/>
                    </apex:selectList>
                </apex:pageblocksectionItem> 
                
                <apex:pageblocksectionItem dataStyle="float:left; width:170px;" labelStyle="float:left; width:170px;">
                    <apex:outputlabel value="{!$Label.BP_Resource_Type}" for="TrRTs" style="color:#00a3cc; font-size: 1em;"/>
                </apex:pageblocksectionItem> 
                <apex:pageblocksectionItem >    
                    <apex:selectList value="{!TrainingRT}" size="1" id="TrRTs">
                        <apex:selectOptions value="{!ResourceTypes}"/>
                    </apex:selectList>
                </apex:pageblocksectionItem> 
                
                <apex:pageblocksectionItem dataStyle="float:left; width:170px;" labelStyle="float:left; width:170px;" >
                    <apex:outputlabel value="{!$Label.BP_Number_of_Resources}" for="NumRes" style="color:#00a3cc; font-size: 1em;" />
                </apex:pageblocksectionItem>   
                <apex:pageblocksectionItem >
                    <apex:inputtext size="2" styleClass="text-right" value="{!TrainingCount}" id="NumRes"/>
                </apex:pageblocksectionItem>  
                <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem dataStyle="float:left;" labelStyle="float:left;" >
                    <apex:commandButton value="{!'+ ' + $Label.BP_Add}" action="{!AddTrainingRows}" rerender="tabPanel,errors" styleClass="btn add second-column" />                                    
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection> 
            
            
            <apex:outputpanel >                       
                <!--<table width="100%" border="1">

<td colspan="5" align="center" style="font-size:14px; font-weight:bold;">Minimum Enablement Requirements for EACH Focus Product:</td>
<tr>
<td bgcolor="#FFFFFF" colspan="5">&nbsp;</td>
</tr>
<tr>
<td></td>
<td align="center" style="font-weight:bold;">Member</td>
<td align="center" style="font-weight:bold;">Advanced</td>
<td align="center" style="font-weight:bold;">Premier</td>
<td align="center" style="font-weight:bold;">Focus</td>

</tr>
<tr>
<td colspan="5">
<hr />
</td>
</tr>
<tr>
<td style="font-weight:bold;">Sales Resources:</td>
<td align="center" class="tablebox">2 Pro</td>
<td align="center" class="tablebox">2 Pro, 1 Expert</td>
<td align="center" class="tablebox">4 Pro*, 2 Expert</td>
<td align="center" class="tablebox">4 Pro*, 2 Expert</td>

</tr>

<tr>
<td style="font-weight:bold;">Technical Resources**:</td>
<td align="center" class="tablebox">1 Pro</td>
<td align="center" class="tablebox">1 Pro, 1 Expert</td>
<td align="center" class="tablebox">2 Pro, 1 Expert</td>
<td align="center" class="tablebox">2 Pro, 1 Expert</td>
</tr>


<tr>
<td colspan="5">* In APJ and LATAM, Premier and Focus Partners only need 2 Pro and 2 Expert Sales Resources</td>
</tr>
<tr>
<td colspan="5">** Technical Resources can include Pre-Sales, Architect, Implementer, and/or Support roles</td>
</tr>
</table>-->
                <div class="mysuggTable">
                    <div class="mysuggheader"><br />
                        Minimum Enablement Requirements for EACH Focus Product:
                    </div>
                    <div class="myblankleft">
                        &nbsp;
                    </div>
                    <div class="mysuggsubheader">
                        Member
                    </div>
                    <div class="mysuggsubheader">
                        Advanced
                    </div>
                    <div class="mysuggsubheader">
                        Premier
                    </div>
                    <div class="mysuggsubheader">
                        Focus
                    </div>
                    <div class="myleftheader">
                        
                        Sales Resources:
                    </div>
                    <div class="mysuggsubtext">
                        2 Pro
                    </div>
                    <div class="mysuggsubtext">
                        2 Pro, 1 Expert
                    </div>
                    <div class="mysuggsubtext">
                        4 Pro*, 2 Expert
                    </div>
                    <div class="mysuggsubtext">
                        4 Pro*, 2 Expert
                    </div>
                    <div class="myleftheader">
                        
                        Technical Resources**:
                    </div>
                    <div class="mysuggsubtext">
                        1 Pro
                    </div>
                    <div class="mysuggsubtext">
                        1 Pro, 1 Expert
                    </div>
                    <div class="mysuggsubtext">
                        2 Pro, 1 Expert
                    </div>
                    <div class="mysuggsubtext">
                        2 Pro, 1 Expert
                    </div>
                    <div class="mysuggbottom">
                        * In APJ and LATAM, Premier and Focus Partners only need 2 Pro and 2 Expert Sales Resources
                    </div>
                    <div class="mysuggbottom">
                        ** Technical Resources can include Pre-Sales, Architect, Implementer, and/or Support roles
                    </div>
                    
                </div>
            </apex:outputpanel>
            
            
        </apex:pageBlockSection>  
        
        <br />
        <br />          
        <br />    
        
        <apex:outputText value="" styleClass="dataCol first "/>
        
        <apex:actionStatus id="msg_refresh1" stopText="">
            <apex:facet name="start">
                <apex:outputPanel >
                    <div style="background-color: #dbeefd; opacity: .80; -moz-opacity: 0.80; filter:alpha(opacity=80); position: absolute; left:0;top:0; width:100%; height:100%; z-index: 3;"><apex:image value="/img/loading32.gif" style="height: 40px; position: relative; left:400px;top:200px;"/></div>
                </apex:outputPanel>
            </apex:facet>
        </apex:actionStatus>
        <br/> 
        <table class="territory fullwidth">
            <tr width="100%" class="territory-row">
                <th align="center">{!$Label.BP_Route_to_Market}</th>
                <th align="center" >{!$Label.BP_Product_Group}</th>
                <th align="center">{!$Label.BP_Resource_Type}</th> 
                <th align="center" style="display: {!IF((isGeoAccount),'', IF((isRegionalAccount),'','none'))};">{!$Label.BP_Country}</th>  <!-- samap01 -US293050 & US293051-->
                <th align="center">{!$Label.BP_Resource_Name}</th>
                <th align="center" style="display: {!IF((ShowIncentivesection),'', 'none')};">{!$Label.BP_Certification_Level}</th>
                <th align="center" style="display: {!IF((ShowIncentivesection),'', 'none')};">{!$ObjectType.BP_Training_Contact__c.Fields.Credentails__c.Label}</th>
                <th align="center">  </th>                            
            </tr>
            
            <apex:repeat value="{!TrAlliancePGs}" var="pg">  
                <apex:variable var="i" value="{!0}"/>               
                <apex:repeat value="{!pg.myBPTrainingContacts}" var="bptc">
                    <apex:variable var="j" value="{!i}.{!pg.myRTM}.{!bptc.Product_Group__c}.{!bptc.Resource_Type__c}" rendered="{!IF(isGeoAccount==true, true, false)}" />
                    <apex:variable var="j" value="{!i}.{!pg.myRTM}.{!pg.mypg}.{!bptc.Resource_Type__c}" rendered="{!IF(isGeoAccount==true, false, true)}"/>
                    <tr width="100%" class="territory-row">   
                        <td>{!pg.myRTM}</td>
                        <td style="display: {!IF((isGeoAccount),'none', '')};">{!pg.myPG}</td>
                        <td style="display: {!IF((isGeoAccount),'', 'none')};">{!bptc.Product_Group__c}</td>
                        <td>{!bptc.Resource_Type__c}</td>    
                        <!-- samap01 -US293050 & US293051-->
                        <td style="display: {!IF((isGeoAccount),'', IF((isRegionalAccount),'','none'))};"> 
                            <apex:selectList value="{!bptc.GeoCountry__c}" size="1"  style="width:200px;" multiselect="false" id="GeoAccountCountries"  onchange="onGeoCountryChange(this,{!IsGeoAccount},{!isRegionalAccount});" >
                                <apex:selectOptions value="{!GeoAccountCountries}"/>
                            </apex:selectList>                        
                        </td>
                        <td width="20%">
                            <div id="targetContact.{!j}" style="float:left;font-size:12px">{!bptc.Test_Contact_Name__c}</div> &nbsp;  
                            <a href="#" onclick="openContactLookupNew('BP_EndUserContactSearch', '{!$Component.hdnContactName}' , 'hdnContactID.{!j}', 'targetContact.{!j}', 'tstContName.{!j}','{!j}','targetcertificationlevel.{!j}','targetcertification.{!j}','{!Business_Plan_New__c.Plan_Fiscal_Year__c}', this,{!isGeoAccount},{!isRegionalAccount}); return false"> 
                                <img title="Contact Lookup (New Window)" class="lookupIcon" alt="Contact Lookup (New Window)" src="/s.gif"/>                
                            </a>                                
                            
                            <input type="hidden" id="hdnContactID.{!j}" name="hdnContactID.{!j}"/>
                            <input type="hidden" id="tstContName.{!j}" name="tstContName.{!j}"/>
                            
                        </td>
                        <td style="display: {!IF((ShowIncentivesection),'', 'none')};">
                            <div id="targetcertification.{!j}" style="float:left;font-size:12px">{!bptc.Certification_Level__c}</div>
                            <input type="hidden" id="targetcertificationlevel.{!j}" name="targetcertificationlevel.{!j}"/>
                            
                        </td>
                        <td style="display: {!IF((ShowIncentivesection),'', 'none')};">
                            <apex:inputField value="{!bptc.Credentails__c}" rendered="{!IF(bptc.Resource_Type__c == 'Architect', false, true)}"/>
                            <apex:selectList value="{!bptc.Credentails__c}" size="1" rendered="{!IF(bptc.Resource_Type__c == 'Architect', true, false)}">
                                <apex:selectOptions value="{!CredentialAvalues}"/>
                            </apex:selectList>
                        </td>
                        <td>
                            <apex:commandButton value="X" action="{!delAllTrRow}" rerender="tabPanel,errors" styleClass="btn delete">                                    
                                <apex:param name="Del" value="{!i}" assignTo="{!delTrainingKey}"/>
                                <apex:param name="Del1" value="{!bptc.Product_Group__c}" assignTo="{!delTrainingPG}"/>       
                                <apex:param name="Del2" value="{!PG.myBU}" assignTo="{!delTrainingBU}"/>          
                            </apex:commandButton>                         
                        </td>                          
                    </tr>
                    <apex:variable var="i" value="{!i+1}"/>
                </apex:repeat>
            </apex:repeat>
            
            <apex:repeat value="{!TrSolProPGs}" var="pg">  
                <apex:variable var="i" value="{!0}"/>               
                <apex:repeat value="{!pg.myBPTrainingContacts}" var="bptc">
                    <apex:variable var="j" value="{!i}.{!pg.myRTM}.{!bptc.Product_Group__c}.{!bptc.Resource_Type__c}" rendered="{!IF(isGeoAccount==true, true, false)}" />
                    <apex:variable var="j" value="{!i}.{!pg.myRTM}.{!pg.mypg}.{!bptc.Resource_Type__c}" rendered="{!IF(isGeoAccount==true, false, true)}"/>
                    
                    <tr width="100%" class="territory-row">   
                        <td>{!pg.myRTM}</td>
                        <td style="display: {!IF((isGeoAccount),'none', '')};">{!pg.myPG}</td>
                        <td style="display: {!IF((isGeoAccount),'', 'none')};">{!bptc.Product_Group__c}</td>
                        <td>{!bptc.Resource_Type__c}</td>    
                        <!-- samap01 -US293050 & US293051-->
                        <td style="display: {!IF((isGeoAccount),'',IF((isRegionalAccount),'','none'))};"> 
                            <apex:selectList value="{!bptc.GeoCountry__c}" size="1" onchange="onGeoCountryChange(this,{!IsGeoAccount},{!isRegionalAccount});"  style="width:200px;" multiselect="false" id="GeoAccountCountries">
                                <apex:selectOptions value="{!GeoAccountCountries}"/>
                            </apex:selectList>                        
                        </td>
                        <td width="20%">
                            <div id="targetContact.{!j}" style="float:left;font-size:12px">{!bptc.Test_Contact_Name__c}</div> &nbsp;  
                            <a href="#" onclick="openContactLookupNew('BP_EndUserContactSearch', '{!$Component.hdnContactName}' , 'hdnContactID.{!j}', 'targetContact.{!j}', 'tstContName.{!j}','{!j}','targetcertificationlevel.{!j}','targetcertification.{!j}','{!Business_Plan_New__c.Plan_Fiscal_Year__c}',this,{!isGeoAccount},{!isRegionalAccount}); return false"> 
                                <img title="Contact Lookup (New Window)" class="lookupIcon" alt="Contact Lookup (New Window)" src="/s.gif"/>                
                            </a>
                            
                            <!--<apex:inputHidden id="ContactName" value="{!bptc.Test_Contact_Name__c}"/>
<apex:inputHidden id="TrContactId" value="{!bptc.Contact__c}"/>-->
                            
                            <input type="hidden" id="hdnContactID.{!j}" name="hdnContactID.{!j}"/>
                            <input type="hidden" id="tstContName.{!j}" name="tstContName.{!j}"/>
                            
                        </td>
                        <td style="display: {!IF((ShowIncentivesection),'', 'none')};">
                            <div id="targetcertification.{!j}" style="float:left;font-size:12px">{!bptc.Certification_Level__c}</div>
                            <input type="hidden" id="targetcertificationlevel.{!j}" name="targetcertificationlevel.{!j}"/>
                            
                        </td>
                        <td style="display: {!IF((ShowIncentivesection),'', 'none')};">
                            <apex:inputField value="{!bptc.Credentails__c}" rendered="{!IF(bptc.Resource_Type__c == 'Architect', false, true)}"/>
                            <apex:selectList value="{!bptc.Credentails__c}" size="1" rendered="{!IF(bptc.Resource_Type__c == 'Architect', true, false)}">
                                <apex:selectOptions value="{!CredentialAvalues}"/>
                            </apex:selectList>
                        </td>
                        <td>
                            <apex:commandButton value="X" action="{!delSolTrRow}" rerender="tabPanel,errors" styleClass="btn delete">                                    
                                <apex:param name="Del" value="{!i}" assignTo="{!delTrainingKey}"/>
                                <apex:param name="Del1" value="{!bptc.Product_Group__c}" assignTo="{!delTrainingPG}"/> 
                                <apex:param name="Del2" value="{!PG.myBU}" assignTo="{!delTrainingBU}"/>                         
                            </apex:commandButton>                         
                        </td>                                                  
                    </tr>
                    <apex:variable var="i" value="{!i+1}"/>
                </apex:repeat>
            </apex:repeat>
            
            <apex:repeat value="{!TrSerProPGs}" var="pg">  
                <apex:variable var="i" value="{!0}"/>               
                <apex:repeat value="{!pg.myBPTrainingContacts}" var="bptc">
                    <apex:variable var="j" value="{!i}.{!pg.myRTM}.{!bptc.Product_Group__c}.{!bptc.Resource_Type__c}" rendered="{!IF(isGeoAccount==true, true, false)}" />
                    <apex:variable var="j" value="{!i}.{!pg.myRTM}.{!pg.mypg}.{!bptc.Resource_Type__c}" rendered="{!IF(isGeoAccount==true, false, true)}"/>
                    
                    <tr width="100%" class="territory-row">   
                        <td>{!pg.myRTM}</td>
                        <td style="display: {!IF((isGeoAccount),'none', '')};">{!pg.myPG}</td>
                        <td style="display: {!IF((isGeoAccount),'', 'none')};">{!bptc.Product_Group__c}</td>
                        <td>{!bptc.Resource_Type__c}</td>    
                        <!-- samap01 -US293050 & US293051-->
                        <td style="display: {!IF((isGeoAccount),'',IF((isRegionalAccount),'','none'))};"> 
                            <apex:selectList value="{!bptc.GeoCountry__c}" size="1"  style="width:200px;" multiselect="false" id="GeoAccountCountries"  onchange="onGeoCountryChange(this,{!IsGeoAccount},{!isRegionalAccount});" >
                                <!--<apex:actionSupport event="onchange" reRender="" action="{!clearCheckbox}" status="msg_refresh"/> -->
                                <apex:selectOptions value="{!GeoAccountCountries}"/>
                            </apex:selectList>                        
                        </td>
                        <td width="20%">
                            <div id="targetContact.{!j}" style="float:left;font-size:12px">{!bptc.Test_Contact_Name__c}</div> &nbsp;  
                            <a href="#" onclick="openContactLookupNew('BP_EndUserContactSearch', '{!$Component.hdnContactName}' , 'hdnContactID.{!j}', 'targetContact.{!j}', 'tstContName.{!j}','{!j}','targetcertificationlevel.{!j}','targetcertification.{!j}','{!Business_Plan_New__c.Plan_Fiscal_Year__c}', this,{!isGeoAccount},{!isRegionalAccount}); return false"> 
                                <img title="Contact Lookup (New Window)" class="lookupIcon" alt="Contact Lookup (New Window)" src="/s.gif"/>                
                            </a>
                            
                            <!--<apex:inputHidden id="ContactName" value="{!bptc.Test_Contact_Name__c}"/>
<apex:inputHidden id="TrContactId" value="{!bptc.Contact__c}"/>-->
                            
                            <input type="hidden" id="hdnContactID.{!j}" name="hdnContactID.{!j}"/>
                            <input type="hidden" id="tstContName.{!j}" name="tstContName.{!j}"/>
                            
                        </td>
                        <td style="display: {!IF((ShowIncentivesection),'', 'none')};">
                            <div id="targetcertification.{!j}" style="float:left;font-size:12px">{!bptc.Certification_Level__c}</div>
                            <input type="hidden" id="targetcertificationlevel.{!j}" name="targetcertificationlevel.{!j}"/>
                            
                        </td>
                        <td style="display: {!IF((ShowIncentivesection),'', 'none')};">
                            <apex:inputField value="{!bptc.Credentails__c}" rendered="{!IF(bptc.Resource_Type__c == 'Architect', false, true)}"/>
                            <apex:selectList value="{!bptc.Credentails__c}" size="1" rendered="{!IF(bptc.Resource_Type__c == 'Architect', true, false)}">
                                <apex:selectOptions value="{!CredentialAvalues}"/>
                            </apex:selectList>
                        </td>
                        <td>
                            <apex:commandButton value="X" action="{!delSerTrRow}" rerender="tabPanel,errors" styleClass="btn delete">                                    
                                <apex:param name="Del" value="{!i}" assignTo="{!delTrainingKey}"/>
                                <apex:param name="Del1" value="{!bptc.Product_Group__c}" assignTo="{!delTrainingPG}"/> 
                                <apex:param name="Del2" value="{!PG.myBU}" assignTo="{!delTrainingBU}"/>         
                            </apex:commandButton>                         
                        </td>                                                   
                    </tr>
                    <apex:variable var="i" value="{!i+1}"/>
                </apex:repeat>
            </apex:repeat>
            
            <apex:repeat value="{!TrDMPGs}" var="pg">  
                <apex:variable var="i" value="{!0}"/>               
                <apex:repeat value="{!pg.myBPTrainingContacts}" var="bptc">
                    <apex:variable var="j" value="{!i}.{!pg.myRTM}.{!pg.myPG}.{!bptc.Resource_Type__c}"/>
                    <tr width="100%" class="territory-row">   
                        <td>{!pg.myRTM}</td>
                        <td>{!bptc.Resource_Type__c}</td>    
                        <td width="20%">
                            <div id="targetContact.{!j}" style="float:left;font-size:12px">{!bptc.Test_Contact_Name__c}</div> &nbsp;  
                            <a href="#" onclick="openContactLookupNew('BP_EndUserContactSearch', '{!$Component.hdnContactName}' , 'hdnContactID.{!j}', 'targetContact.{!j}', 'tstContName.{!j}','{!j}','targetcertificationlevel.{!j}','targetcertification.{!j}','{!Business_Plan_New__c.Plan_Fiscal_Year__c}',this,{!isGeoAccount}); return false"> 
                                <img title="Contact Lookup (New Window)" class="lookupIcon" alt="Contact Lookup (New Window)" src="/s.gif"/>                
                            </a>
                            
                            <!--<apex:inputHidden id="ContactName" value="{!bptc.Test_Contact_Name__c}"/>
<apex:inputHidden id="TrContactId" value="{!bptc.Contact__c}"/>-->
                            
                            <input type="hidden" id="hdnContactID.{!j}" name="hdnContactID.{!j}"/>
                            <input type="hidden" id="tstContName.{!j}" name="tstContName.{!j}"/>
                            
                        </td>
                        <td style="display: {!IF((ShowIncentivesection),'', 'none')};">
                            <div id="targetcertification.{!j}" style="float:left;font-size:12px">{!bptc.Certification_Level__c}</div>
                            <input type="hidden" id="targetcertificationlevel.{!j}" name="targetcertificationlevel.{!j}"/>
                            
                        </td>
                        <td style="display: {!IF((ShowIncentivesection),'', 'none')};">
                            <apex:inputField value="{!bptc.Credentails__c}" rendered="{!IF(bptc.Resource_Type__c == 'Architect', false, true)}"/>
                            <apex:selectList value="{!bptc.Credentails__c}" size="1" rendered="{!IF(bptc.Resource_Type__c == 'Architect', true, false)}">
                                <apex:selectOptions value="{!CredentialAvalues}"/>
                            </apex:selectList>
                        </td>
                        <td>
                            <apex:commandButton value="X" action="{!delDMTrRow}" rerender="tabPanel,errors" styleClass="btn delete">                                    
                                <apex:param name="Del" value="{!i}" assignTo="{!delTrainingKey}"/>
                                <apex:param name="Del1" value="{!pg.myPG}" assignTo="{!delTrainingPG}"/>                
                            </apex:commandButton>                         
                        </td>                                                  
                    </tr>
                    <apex:variable var="i" value="{!i+1}"/>
                </apex:repeat>
            </apex:repeat>               
        </table>
        
        
        
        
        
        
        <!-- <table class="territory">
<tr width="100%" class="territory-row">
<th align="center" width="25%">Route To Market</th>
<th align="center" width="30%">Product Group</th>
<th align="center" width="40%">Course Details (Name, Code, Duration in hours)</th>
<th align="center" width="15%">Resource Type</th> 
<th align="center" width="30%">Resource Name</th>                            
</tr>


<apex:repeat value="{!AddedPGs}" var="pg"> 
<apex:variable var="i" value="{!0}"/> 

<apex:repeat value="{!pg.myBPTrainingContacts}" var="bptc"> 

<apex:variable var="j" value="{!i}.{!pg.myRTM}.{!pg.myPG}.{!bptc.Resource_Type__c}"/>
<apex:variable var="k" value="{!0}"/>

<tr width="100%" class="territory-row">
<td width="20%">{!pg.myRTM}</td>
<td width="20%">{!pg.myPG}</td>
<td>
<table class="details">
<apex:repeat value="{!TempTrainingMap[j]}" var="courses"> 
<tr>
<td><strong>{!courses.Combined_Course_Name__c}</strong><br />{!courses.Combined_Course_Code__c}, {!courses.Duration_1__c}</td>

<apex:outputpanel layout="none" rendered="{!courses.Completed__c}">
<td><input type="checkbox" name="{!j}.{!k}" checked="checked"/></td>
</apex:outputpanel>
<apex:outputpanel layout="none" rendered="{!!courses.Completed__c}">
<td><input type="checkbox" name="{!j}.{!k}"/></td>
</apex:outputpanel>                                    
</tr>
<apex:variable var="k" value="{!k+1}"/>
</apex:repeat>
</table>
</td>
<td width="20%">{!bptc.Resource_Type__c}</td>
<td width="40%">
<apex:variable var="z" value="!$Component.hdnContactID.{!j}"/>
<apex:outputPanel styleClass="requiredInput" layout="block" >
<apex:outputPanel styleClass="requiredBlock" layout="block"/>
<div id="targetContact.{!j}" style="float:left;font-size:12px">{!bptc.Test_Contact_Name__c}</div> &nbsp;  
<a href="#" onclick="openContactLookup('CAEndUserContactSearch', '{!$Component.hdnContactName}' , 'hdnContactID.{!j}', 'targetContact.{!j}', 'tstContName.{!j}'); return false"> 
<img title="Contact Lookup (New Window)" class="lookupIcon" alt="Contact Lookup (New Window)" src="/s.gif"/>                
</a>
</apex:outputPanel>

<input type="hidden" id="hdnContactID.{!j}" name="hdnContactID.{!j}"/>
<input type="hidden" id="tstContName.{!j}" name="tstContName.{!j}"/>

</td>                          
</tr> 
<apex:variable var="i" value="{!i+1}"/>
</apex:repeat>
</apex:repeat>
</table>-->
        <br></br>
    <br></br>                                                                                                

<apex:commandButton value="{!'< ' + $Label.BP_Prev}" action="{!prevTab}" reRender="tabPanel,Notes" styleClass="btn prev" oncomplete="scroll(0, 0)"/>
<apex:commandButton value="{!$Label.BP_Next + ' >'}" action="{!nextTab}" reRender="tabPanel,errors" styleClass="btn next" oncomplete="scroll(0, 0)"/>                
</apex:tab>            
<apex:tab label="{!$Label.BP_Booking_Targets}" name="5" disabled="{!revenueTabEnabled}" ontabenter="tabChange('5')">
    <p class="larger"><span class="bluehead">{!$Label.BP_Set_the_quarterly_sales_targets_for_each_focus_solution}</span><br/>
        {!$Label.BP_Now_that_you_have_selected_your_Solutions_and_nominated_your_Training_contact}
    </p>
    <br/> 
    <!--               <apex:pageBlockSection columns="1">
<apex:pageblocksectionItem >
<apex:outputlabel value="Route to Market" for="BookRTMvalues" />
<apex:selectList value="{!BookingRTM}" size="1" id="BookRTM">
<apex:actionSupport event="onchange" reRender="BookBU,BookPG" action="{!clearBookingBUPG}" status="Refreshing"/>
<apex:selectOptions value="{!RTMs}"/>
</apex:selectList>
</apex:pageblocksectionItem>

<apex:pageblockSectionItem >
<apex:outputLabel value="GEO"/>
<apex:outputText value="{!Business_Plan_New__c.GEO__c}"/>
</apex:pageblockSectionItem>                     

<apex:pageblocksectionItem >
<apex:outputlabel value="Sales Coverage Business Unit" for="BookBU" />
<apex:selectList value="{!BookingBU}" size="1" id="BookBU">
<apex:actionSupport event="onchange" reRender="BookPG" status="Refreshing"/>
<apex:selectOptions value="{!BookingBUs}"/>
</apex:selectList>
</apex:pageblocksectionItem>    

<apex:pageblocksectionItem >
<apex:outputlabel value="Product Group" for="BookPG" />
<apex:selectList value="{!BookingPG}" size="1" id="BookPG">
<apex:selectOptions value="{!BookingPGs}"/>
</apex:selectList>
</apex:pageblocksectionItem>  

<apex:pageblocksectionItem >
<apex:outputlabel value="Booking Type" for="BookRT" />
<apex:selectList value="{!selectedRevType}" size="1" id="BookRT">
<apex:selectOptions value="{!RevenueTypes}"/>
</apex:selectList>
</apex:pageblocksectionItem>

<apex:pageblockSectionItem >
<apex:outputLabel value="Q1"/>
<apex:inputText value="{!revQ1}"/>
</apex:pageblockSectionItem>                    

<apex:pageblockSectionItem >
<apex:outputLabel value="Q2"/>
<apex:inputText value="{!revQ2}"/>
</apex:pageblockSectionItem>

<apex:pageblockSectionItem >
<apex:outputLabel value="Q3"/>
<apex:inputText value="{!revQ3}"/>
</apex:pageblockSectionItem>

<apex:pageblockSectionItem >
<apex:outputLabel value="Q4"/>
<apex:inputText value="{!revQ4}"/>
</apex:pageblockSectionItem>                                       

<apex:actionStatus id="Refreshing" startText="Loading..." stopText=""/>    
<apex:outputText value="" styleClass="dataCol first "/>
<apex:commandButton value="Add" action="{!AddBookingTarget}" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" style="background-color:orange;background-image:none;"/>                                    
</apex:pageblocksection> -->
    
    <apex:pageBlockSection title="{!$Label.BP_Booking_Targets}" columns="1">                                                     
        <apex:outputPanel id="PGTable1">
            <apex:outputPanel rendered="{!allianceBookingExists}">
                <apex:outputText style="font-weight:bold;"  value="{!$ObjectType.Business_Plan_New__c.Fields.Alliance__c.Label}" rendered="{!allianceBookingExists}"/>
                <table class="territory">
                    <tr class="territory-row">
                        <th>{!$Label.BP_Business_Unit}</th>
                        <th style="display: {!IF((isGeoAccount),'none', '')};">{!$Label.BP_Product_Group}</th>
                        <th>{!$Label.BP_GEO}</th>
                        <th>{!$Label.BP_Booking_Type}</th> 
                        <th class="text-right">{!$Label.BP_Q1} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                        <th class="text-right">{!$Label.BP_Q2} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                        <th class="text-right">{!$Label.BP_Q3} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                        <th class="text-right">{!$Label.BP_Q4} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                        <th><apex:outputtext rendered="{!warningMessage}" Style="color:red" value="{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})"/>
                            <apex:outputtext rendered="{!!warningMessage}" value="{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})"/></th>                                                                                                                                                                       
                    </tr>
                    <apex:repeat value="{!AlliancePGs}" var="pg">                          
                        <tr class="territory-row">
                            <td width="20%" rowspan="3" class="bgnone">{!pg.myBU}</td>
                            <td width="20%" rowspan="3" class="bgnone" style="display: {!IF((isGeoAccount),'none', '')};">{!pg.myPG}</td>
                            <td width="5%" rowspan="3" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                            <td width="5%" class=" highlight">Product</td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllPQ1" size="10" value="{!pg.PQ1}" styleClass="text-right"><apex:actionSupport focus="AllPQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllPQ2" size="10" value="{!pg.PQ2}" styleClass="text-right"><apex:actionSupport focus="AllPQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllPQ3" size="10" value="{!pg.PQ3}" styleClass="text-right"><apex:actionSupport focus="AllPQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllPQ4" size="10" value="{!pg.PQ4}" styleClass="text-right"><apex:actionSupport focus="AllSQ1" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.PNCVTotal}"/></apex:outputText></td>                                                                                                                                                                        
                        </tr>
                        <tr class="territory-row">
                            <td width="5%" class=" highlight">Services</td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllSQ1" size="10" value="{!pg.SQ1}" styleClass="text-right"><apex:actionSupport focus="AllSQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllSQ2" size="10" value="{!pg.SQ2}" styleClass="text-right"><apex:actionSupport focus="AllSQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllSQ3" size="10" value="{!pg.SQ3}" styleClass="text-right"><apex:actionSupport focus="AllSQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllSQ4" size="10" value="{!pg.SQ4}" styleClass="text-right"><apex:actionSupport focus="AllEQ1" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.SNCVTotal}"/></apex:outputText></td>
                        </tr>
                        <tr class="territory-row">
                            <td width="5%" class=" highlight">Education</td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllEQ1" size="10" value="{!pg.EQ1}" styleClass="text-right"><apex:actionSupport focus="AllEQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllEQ2" size="10" value="{!pg.EQ2}" styleClass="text-right"><apex:actionSupport focus="AllEQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllEQ3" size="10" value="{!pg.EQ3}" styleClass="text-right"><apex:actionSupport focus="AllEQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right highlight"><apex:inputtext id="AllEQ4" size="10" value="{!pg.EQ4}" styleClass="text-right"><apex:actionSupport focus="AllEQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                            <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.ENCVTotal}"/></apex:outputText></td>
                        </tr> 
                    </apex:repeat>
                    <tr class="territory-row">
                        <td width="5%" colspan="4" class="total" style="display: {!IF((isGeoAccount),'none', '')};">Total</td>
                        <td width="5%" colspan="3" class="total" style="display: {!IF((isGeoAccount),'', 'none')};">Total</td>
                        <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ1Total}"/></apex:outputText></td>
                        <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ2Total}"/></apex:outputText></td>
                        <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ3Total}"/></apex:outputText></td>
                        <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ4Total}"/></apex:outputText></td>
                        <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceTotal}"/></apex:outputText></td>
                    </tr>                          
                    
                </table> 
            </apex:outputPanel>
            
            <apex:outputPanel rendered="{!SolProBookingExists}">   
                <br></br>                        
            <apex:outputText style="font-weight:bold;" value="{!$ObjectType.Business_Plan_New__c.Fields.Solution_Provider__c.Label}" rendered="{!SolProBookingExists}"/>                                             
            <table class="territory">
                <tr class="territory-row">
                    <th>{!$Label.BP_Business_Unit}</th>
                    <th style="display: {!IF((isGeoAccount),'none', '')};">{!$Label.BP_Product_Group}</th>
                    <th>{!$Label.BP_GEO}</th>
                    <th>{!$Label.BP_Booking_Type}</th> 
                    <th class="text-right">{!$Label.BP_Q1} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                    <th class="text-right">{!$Label.BP_Q2} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                    <th class="text-right">{!$Label.BP_Q3} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                    <th class="text-right">{!$Label.BP_Q4} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                    <th><apex:outputtext rendered="{!warningMessage}" Style="color:red" value="{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})"/>
                        <apex:outputtext rendered="{!!warningMessage}" value="{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})"/></th>                                                                                                                                                                       
                </tr>
                <apex:repeat value="{!SolProPGs}" var="pg">                          
                    <tr class="territory-row">
                        <td width="20%" rowspan="3" class="bgnone">{!pg.myBU}</td>
                        <td width="20%" rowspan="3" class="bgnone" style="display: {!IF((isGeoAccount),'none', '')};">{!pg.myPG}</td>
                        <td width="5%" rowspan="3" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                        <td width="5%" class=" highlight">Product</td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolPQ1" size="10" value="{!pg.PQ1}" styleClass="text-right"><apex:actionSupport focus="SolPQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolPQ2" size="10" value="{!pg.PQ2}" styleClass="text-right"><apex:actionSupport focus="SolPQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolPQ3" size="10" value="{!pg.PQ3}" styleClass="text-right"><apex:actionSupport focus="SolPQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolPQ4" size="10" value="{!pg.PQ4}" styleClass="text-right"><apex:actionSupport focus="SolSQ1" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.PNCVTotal}"/></apex:outputText></td>                                                                                                                                                                        
                    </tr>
                    <tr class="territory-row">
                        <td width="5%" class=" highlight">Services</td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolSQ1" size="10" value="{!pg.SQ1}" styleClass="text-right"><apex:actionSupport focus="SolSQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolSQ2" size="10" value="{!pg.SQ2}" styleClass="text-right"><apex:actionSupport focus="SolSQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolSQ3" size="10" value="{!pg.SQ3}" styleClass="text-right"><apex:actionSupport focus="SolSQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolSQ4" size="10" value="{!pg.SQ4}" styleClass="text-right"><apex:actionSupport focus="SolEQ1" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.SNCVTotal}"/></apex:outputText></td>
                    </tr>
                    <tr class="territory-row">
                        <td width="5%" class=" highlight">Education</td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolEQ1" size="10" value="{!pg.EQ1}" styleClass="text-right"><apex:actionSupport focus="SolEQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolEQ2" size="10" value="{!pg.EQ2}" styleClass="text-right"><apex:actionSupport focus="SolEQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolEQ3" size="10" value="{!pg.EQ3}" styleClass="text-right"><apex:actionSupport focus="SolEQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right highlight"><apex:inputtext id="SolEQ4" size="10" value="{!pg.EQ4}" styleClass="text-right"><apex:actionSupport focus="SolEQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                        <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.ENCVTotal}"/></apex:outputText></td>
                    </tr> 
                </apex:repeat>                          
                <tr class="territory-row">
                    <td width="5%" colspan="4" class="total" style="display: {!IF((isGeoAccount),'none', '')};">Total</td>
                    <td width="5%" colspan="3" class="total" style="display: {!IF((isGeoAccount),'', 'none')};">Total</td>
                    <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ1Total}"/></apex:outputText></td>
                    <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ2Total}"/></apex:outputText></td>
                    <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ3Total}"/></apex:outputText></td>
                    <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ4Total}"/></apex:outputText></td>
                    <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProTotal}"/></apex:outputText></td>
                </tr>                          
            </table> 
        </apex:outputPanel>
        
        <apex:outputPanel rendered="{!SerProBookingExists}"> 
            <br></br> 
        <apex:outputText style="font-weight:bold;" value="{!$ObjectType.Business_Plan_New__c.Fields.Service_Provider__c.Label}" rendered="{!SerProBookingExists}"/>                                              
        <table class="territory">
            <tr  class="territory-row">
                <th>{!$Label.BP_Business_Unit}</th>
                <th style="display: {!IF((isGeoAccount),'none', '')};">{!$Label.BP_Product_Group}</th>
                <th>{!$Label.BP_GEO}</th>
                <th>{!$Label.BP_Booking_Type}</th> 
                <th class="text-right">{!$Label.BP_Q1} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q2} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q3} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q4} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th><apex:outputtext rendered="{!warningMessage}" Style="color:red" value="{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})"/>
                    <apex:outputtext rendered="{!!warningMessage}" value="{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})"/></th>                                                                                                                                                                       
            </tr>
            <apex:repeat value="{!SerProPGs}" var="pg">                          
                <tr class="territory-row">
                    <td width="20%" rowspan="3" class="bgnone">{!pg.myBU}</td>
                    <td width="20%" rowspan="3" class="bgnone" style="display: {!IF((isGeoAccount),'none', '')};">{!pg.myPG}</td>
                    <td width="5%" rowspan="3" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="5%" class=" highlight">Product</td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerPQ1" size="10" value="{!pg.PQ1}" styleClass="text-right"><apex:actionSupport focus="SerPQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerPQ2" size="10" value="{!pg.PQ2}" styleClass="text-right"><apex:actionSupport focus="SerPQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerPQ3" size="10" value="{!pg.PQ3}" styleClass="text-right"><apex:actionSupport focus="SerPQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerPQ4" size="10" value="{!pg.PQ4}" styleClass="text-right"><apex:actionSupport focus="SerSQ1" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.PNCVTotal}"/></apex:outputText></td>                                                                                                                                                                        
                </tr>
                <tr class="territory-row">
                    <td width="5%" class=" highlight">Services</td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerSQ1" size="10" value="{!pg.SQ1}" styleClass="text-right"><apex:actionSupport focus="SerSQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerSQ2" size="10" value="{!pg.SQ2}" styleClass="text-right"><apex:actionSupport focus="SerSQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerSQ3" size="10" value="{!pg.SQ3}" styleClass="text-right"><apex:actionSupport focus="SerSQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerSQ4" size="10" value="{!pg.SQ4}" styleClass="text-right"><apex:actionSupport focus="SerEQ1" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.SNCVTotal}"/></apex:outputText></td>
                </tr>
                <tr class="territory-row">
                    <td width="5%" class=" highlight">Education</td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerEQ1" size="10" value="{!pg.EQ1}" styleClass="text-right"><apex:actionSupport focus="SerEQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerEQ2" size="10" value="{!pg.EQ2}" styleClass="text-right"><apex:actionSupport focus="SerEQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerEQ3" size="10" value="{!pg.EQ3}" styleClass="text-right"><apex:actionSupport focus="SerEQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right highlight"><apex:inputtext id="SerEQ4" size="10" value="{!pg.EQ4}" styleClass="text-right"><apex:actionSupport focus="SerEQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                    <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.ENCVTotal}"/></apex:outputText></td>
                </tr> 
            </apex:repeat>                         
            <tr class="territory-row">
                <td width="5%" colspan="4" class="total" style="display: {!IF((isGeoAccount),'none', '')};">Total</td>
                <td width="5%" colspan="3" class="total" style="display: {!IF((isGeoAccount),'', 'none')};">Total</td>
                <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ1Total}"/></apex:outputText></td>
                <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ2Total}"/></apex:outputText></td>
                <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!serProBookingQ3Total}"/></apex:outputText></td>
                <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ4Total}"/></apex:outputText></td>
                <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProTotal}"/></apex:outputText></td>
            </tr>                          
            
        </table> 
    </apex:outputPanel>
    
    <apex:outputPanel rendered="{!DMBookingExists}">   
        <br></br> 
    <apex:outputText style="font-weight:bold;" value="{!$ObjectType.Business_Plan_New__c.Fields.Data_Management__c.Label}" rendered="{!DMBookingExists}"/>                                             
    <table class="territory fullwidth">
        <tr class="territory-row">
            <th>{!$Label.BP_Business_Unit}</th>
            <th style="display: {!IF((isGeoAccount),'none', '')};">{!$Label.BP_Product_Group}</th>
            <th>{!$Label.BP_GEO}</th>
            <th>{!$Label.BP_Booking_Type}</th> 
            <th class="text-right">{!$Label.BP_Q1} ({!Business_Plan_New__c.Creator_Currency__c})</th>
            <th class="text-right">{!$Label.BP_Q2} ({!Business_Plan_New__c.Creator_Currency__c})</th>
            <th class="text-right">{!$Label.BP_Q3} ({!Business_Plan_New__c.Creator_Currency__c})</th>
            <th class="text-right">{!$Label.BP_Q4} ({!Business_Plan_New__c.Creator_Currency__c})</th>
            <th><apex:outputtext rendered="{!warningMessage}" Style="color:red" value="{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})"/>
                <apex:outputtext rendered="{!!warningMessage}" value="{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})"/></th>                                                                                                                                                                       
        </tr>
        <apex:repeat value="{!DMPGs}" var="pg">                          
            <tr class="territory-row">
                <td width="20%" rowspan="3" class="bgnone">{!pg.myBU}</td>
                <td width="20%" rowspan="3" class="bgnone" style="display: {!IF((isGeoAccount),'none', '')};">{!pg.myPG}</td>
                <td width="5%" rowspan="3" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                <td width="5%" class=" highlight">Product</td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMPQ1" size="10" value="{!pg.PQ1}" styleClass="text-right"><apex:actionSupport focus="DMPQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMPQ2" size="10" value="{!pg.PQ2}" styleClass="text-right"><apex:actionSupport focus="DMPQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMPQ3" size="10" value="{!pg.PQ3}" styleClass="text-right"><apex:actionSupport focus="DMPQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMPQ4" size="10" value="{!pg.PQ4}" styleClass="text-right"><apex:actionSupport focus="DMSQ1" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.PNCVTotal}"/></apex:outputText></td>                                                                                                                                                                        
            </tr>
            <tr class="territory-row">
                <td width="5%" class=" highlight">Services</td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMSQ1" size="10" value="{!pg.SQ1}" styleClass="text-right"><apex:actionSupport focus="DMSQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMSQ2" size="10" value="{!pg.SQ2}" styleClass="text-right"><apex:actionSupport focus="DMSQ3" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMSQ3" size="10" value="{!pg.SQ3}" styleClass="text-right"><apex:actionSupport focus="DMSQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMSQ4" size="10" value="{!pg.SQ4}" styleClass="text-right"><apex:actionSupport focus="DMEQ1" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.SNCVTotal}"/></apex:outputText></td>
            </tr>
            <tr class="territory-row">
                <td width="5%" class=" highlight">Education</td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMEQ1" size="10" value="{!pg.EQ1}" styleClass="text-right"><apex:actionSupport focus="DMEQ2" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMEQ2" size="10" value="{!pg.EQ2}" styleClass="text-right"><apex:actionSupport focus="DMEQ3"  event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMEQ3" size="10" value="{!pg.EQ3}" styleClass="text-right"><apex:actionSupport focus="DMEQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right highlight"><apex:inputtext id="DMEQ4" size="10" value="{!pg.EQ4}" styleClass="text-right"><apex:actionSupport focus="DMEQ4" event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev" status="msg_refresh"/></apex:inputtext></td>
                <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pg.ENCVTotal}"/></apex:outputText></td>
            </tr> 
        </apex:repeat>                         
        <tr class="territory-row">
            <td width="5%" colspan="4" class="total" style="display: {!IF((isGeoAccount),'none', '')};">Total</td>
            <td width="5%" colspan="3" class="total" style="display: {!IF((isGeoAccount),'', 'none')};">Total</td>
            <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ1Total}"/></apex:outputText></td>
            <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ2Total}"/></apex:outputText></td>
            <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ3Total}"/></apex:outputText></td>
            <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ4Total}"/></apex:outputText></td>
            <td width="10%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMTotal}"/></apex:outputText></td>
        </tr>                          
        
    </table> 
</apex:outputPanel>                                                                                               
</apex:outputPanel>   
</apex:pageBlockSection>   
<apex:outputtext rendered="{!warningMessage}" Style="color:red" value="{!$Label.BP_Warning_Message3}"/>

<apex:pageblocksection title="{!$Label.BP_Summary_by_Booking_Type}" columns="1">
    <apex:outputpanel id="RevSummary">
        <table class="territory fullwidth">
            <tr class="territory-row">
                <th>{!$Label.BP_Route_to_Market}</th>
                <th>{!$Label.BP_GEO}</th>
                <th class="text-right">{!$Label.BP_Q1} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q2} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q3} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q4} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th>{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})</th>                                                                                                                                                                       
            </tr>
            <tr class="territory-row">                          
                <td class="section" colspan="7"><B>Product Booking</B></td>                          
            </tr>
            
            <apex:variable rendered="{!allianceBookingExists}" value="" var="tempOuter">
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Alliance__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AlliancePNCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AlliancePNCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AlliancePNCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AlliancePNCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AlliancePNCVTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            
            <apex:variable rendered="{!SolProBookingExists}" value="" var="tempOuter">  
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Solution_Provider__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProPNCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProPNCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProPNCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProPNCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProPNCVTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            
            <apex:variable rendered="{!SerProBookingExists}" value="" var="tempOuter">   
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Service_Provider__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProPNCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProPNCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProPNCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProPNCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProPNCVTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            <apex:variable rendered="{!DMBookingExists}" value="" var="tempOuter">   
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Data_Management__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMPNCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMPNCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMPNCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMPNCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMPNCVTotal}"/></apex:outputText></td>
                </tr>                                                                              
            </apex:variable>
            
            <tr width="100%" class="territory-row">
                <td width="20%" colspan="2" class="total">Total</td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!PNCVQ1Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!PNCVQ2Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!PNCVQ3Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!PNCVQ4Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!pncvGrantTotal}"/></apex:outputText></td>
            </tr>
            
            <tr class="territory-row">                          
                <td class="section" colspan="7"><B>Services Booking</B></td>                          
            </tr>
            
            <apex:variable rendered="{!allianceBookingExists}" value="" var="tempOuter">
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Alliance__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AllianceSNCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AllianceSNCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AllianceSNCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AllianceSNCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AllianceSNCVTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            
            <apex:variable rendered="{!SolProBookingExists}" value="" var="tempOuter">  
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Solution_Provider__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProSNCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProSNCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProSNCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProSNCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProSNCVTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            
            <apex:variable rendered="{!SerProBookingExists}" value="" var="tempOuter">   
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Service_Provider__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProSNCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProSNCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProSNCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProSNCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProSNCVTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            <apex:variable rendered="{!DMBookingExists}" value="" var="tempOuter">   
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Data_Management__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMSNCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMSNCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMSNCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMSNCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMSNCVTotal}"/></apex:outputText></td>
                </tr>                                                                              
            </apex:variable>
            
            <tr width="100%" class="territory-row">
                <td width="20%" colspan="2" class="total">Total</td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SNCVQ1Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SNCVQ2Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SNCVQ3Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SNCVQ4Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!sncvGrantTotal}"/></apex:outputText></td>
            </tr>
            
            <tr class="territory-row">                          
                <td class="section" colspan="7"><B>Education Booking</B></td>                          
            </tr>
            
            <apex:variable rendered="{!allianceBookingExists}" value="" var="tempOuter">
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Alliance__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AllianceENCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AllianceENCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AllianceENCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AllianceENCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!AllianceENCVTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            
            <apex:variable rendered="{!SolProBookingExists}" value="" var="tempOuter">  
                <tr width="100%" class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Solution_Provider__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProENCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProENCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProENCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProENCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProENCVTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            
            <apex:variable rendered="{!SerProBookingExists}" value="" var="tempOuter">   
                <tr width="100%" class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Service_Provider__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProENCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProENCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProENCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProENCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProENCVTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            <apex:variable rendered="{!DMBookingExists}" value="" var="tempOuter">   
                <tr width="100%" class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Data_Management__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMENCVQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMENCVQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMENCVQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMENCVQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMENCVTotal}"/></apex:outputText></td>
                </tr>                                                                              
            </apex:variable>                       
            
            <tr width="100%" class="territory-row">
                <td width="20%" colspan="2" class="total">Total</td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!ENCVQ1Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!ENCVQ2Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!ENCVQ3Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!ENCVQ4Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!encvGrantTotal}"/></apex:outputText></td>
            </tr>
            
        </table> 
    </apex:outputpanel>
</apex:pageblocksection>

<apex:pageblocksection title="{!$Label.BP_Summary_of_Target_Booking}" columns="1">
    <apex:outputpanel id="TargetRev">
        <table class="territory fullwidth">
            <tr class="territory-row">
                <th>{!$Label.BP_Route_to_Market}</th>
                <th>{!$Label.BP_GEO}</th>
                <th class="text-right">{!$Label.BP_Q1} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q2} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q3} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q4} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th>{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})</th>                                                                                                                                                                       
            </tr>
            
            <apex:variable rendered="{!allianceBookingExists}" value="" var="tempOuter">
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Alliance__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            
            <apex:variable rendered="{!SolProBookingExists}" value="" var="tempOuter">  
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Solution_Provider__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            
            <apex:variable rendered="{!SerProBookingExists}" value="" var="tempOuter">   
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Service_Provider__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProTotal}"/></apex:outputText></td>
                </tr>
            </apex:variable>
            <apex:variable rendered="{!DMBookingExists}" value="" var="tempOuter">   
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Data_Management__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ1Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ2Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ3Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right highlight"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ4Total}"/></apex:outputText></td>
                    <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMTotal}"/></apex:outputText></td>
                </tr>                                                                              
            </apex:variable>
            
            <tr class="territory-row">
                <td width="20%" colspan="2" class="total">Total</td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!BookingQ1Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!BookingQ2Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!BookingQ3Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total"><apex:outputText value="{0, number, ###,###,###,##0.00}"><apex:param value="{!BookingQ4Total}"/></apex:outputText></td>
                <td width="15%" class="text-right total">
                    <c:BPCurrency value1="{!BookingGrandTotal}" currencyIsoCode1="{!Business_Plan_New__c.Creator_Currency__c}"/>                                
                    
                </td>
            </tr>
            
        </table> 
    </apex:outputpanel>
</apex:pageblocksection>                
<apex:actionStatus id="msg_refresh11" stopText="">
    <apex:facet name="start">
        <apex:outputPanel >
            <div style="background-color: #dbeefd; opacity: .80; -moz-opacity: 0.80; filter:alpha(opacity=80); position: absolute; left:0;top:0; width:100%; height:100%; z-index: 3;"><apex:image value="/img/loading32.gif" style="height: 40px; position: relative; left:400px;top:200px;"/></div>
        </apex:outputPanel>
    </apex:facet>
</apex:actionStatus>                 
<apex:commandButton value="{!'< ' + $Label.BP_Prev}" action="{!prevTab}" reRender="tabPanel" styleClass="btn prev" oncomplete="scroll(0, 0)"/>
<apex:commandButton value="{!$Label.BP_Next + ' >'}" action="{!nextTab}" reRender="tabPanel,Notes" styleClass="btn next" oncomplete="scroll(0, 0)"/>                                
</apex:tab>  


<apex:tab label="{!$Label.BP_Checkout_Approvals}" name="6" disabled="{!checkoutTabEnabled}" ontabenter="tabChange('6')"> 
    <p class="larger"><span class="bluehead">{!$Label.BP_Nominate_all_the_stakeholders_and_review_key_plan_details}</span><br/>
        {!$Label.BP_Please_identify_the_stakeholders_involved_in_our_joint_relationship}
    </p>
    <br/>     
    <apex:pageBlockSection columns="2" >
        <apex:pageblockSectionItem >
            <apex:outputLabel value="{!$Label.BP_Partner_Program_Level}"/>
            <apex:outputText value="{!PartnerProgramLevel}"/>
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem >
            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Account_Name__c.Label}"/>
            <apex:outputText value="{!Business_Plan_New__c.Account_Name__c}"/>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Descriptive_Business_Plan_Name__c.Label}"/>
            <apex:inputField value="{!Business_Plan_New__c.Descriptive_Business_Plan_Name__c}" style="width: 250px;" Label="{!$ObjectType.Business_Plan_New__c.Fields.Descriptive_Business_Plan_Name__c.Label}"/>                    
        </apex:pageblockSectionItem>
        <apex:outputField value="{!Business_Plan_New__c.Status__c}"/>  
        <apex:pageblockSectionItem >
            <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.GEO__c.Label}"/>
            <apex:outputText value="{!Business_Plan_New__c.GEO__c}"/>
        </apex:pageblockSectionItem>     
        <apex:inputField value="{!Business_Plan_New__c.Due_Dates__c}"/>
        <apex:inputField value="{!Business_Plan_New__c.Action_Items__c}" style="width: 250px;"/>
        <apex:inputField value="{!Business_Plan_New__c.Stakeholders_Organization_Map__c}" style="width: 250px;" label="{!$Label.BP_Stakeholders_Organization_Map}"/>
        <apex:inputField value="{!Business_Plan_New__c.SendPartnerEmail__c}" style="width: 50px;"/>
        
        <apex:pageblockSectionItem >
            <apex:outputLabel value=""/>
            <apex:outputText value=""/>
        </apex:pageblockSectionItem>   
        
    </apex:pageBlockSection>
    <apex:pageBlockSection columns="2" >
        <apex:pageblockSectionItem >
            <apex:outputLabel style="font-weight:bold;" value="{!$Label.BP_CA_Team}"/>
        </apex:pageblockSectionItem>   
        <apex:pageblockSectionItem >
            <apex:outputLabel style="font-weight:bold;" value="{!$Label.BP_Partner_Team}"/>
        </apex:pageblockSectionItem> 
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.CA_Business_Plan_Owner__c.Label}"/>
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                    <apex:inputField value="{!Business_Plan_New__c.CA_Business_Plan_Owner__c}"/>
                 </div>
            </apex:outputPanel>
        </apex:pageblockSectionItem>          
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$Label.BP_Partner_Business_Plan_Owner}"/>
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                    
                    <apex:selectList id="usrType_txt" value="{!usrTypeSelected}" size="1" rendered="{!!isPowerPartner}" >
                        <apex:selectOptions value="{!usrs}"></apex:selectOptions>
                    </apex:selectList>    
                    
                    <apex:inputText id="partnerBusPlanOwnerName_txt" value="{!partnerBusPlanOwnerName}"  />                        
                    <a href="#" onclick="openUserLookupPopup('CustomUserLookup','{!$Component.partnerBusPlanOwnerName}', '{!$Component.partnerBusPlanOwnerId}','{!$Component.partnerBusPlanOwnerName_txt}','{!$Component.usrType_txt}'); return false">
                        <img title="Partner User Lookup (New Window)" class="lookupIcon" alt="Partner User Lookup (New Window)" src="/s.gif"/>                 
                    </a>      </div>               
                <apex:inputHidden id="partnerBusPlanOwnerName" value="{!partnerBusPlanOwnerName_1}"/>
                <apex:inputHidden id="partnerBusPlanOwnerId" value="{!Business_Plan_New__c.Partner_Business_Plan_Owner__c}"/> 
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.Account_Executive__c.Label}"/>
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                     <apex:inputField value="{!Business_Plan_New__c.Account_Executive__c}"/>
                 </div>
            </apex:outputPanel>
        </apex:pageblockSectionItem> 
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.Partner_Executive_Sponsor__c.Label}"/> 
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                    <apex:selectList id="usrType_Exec" value="{!usrTypeSelected}" size="1" rendered="{!!isPowerPartner}">
                        <apex:selectOptions value="{!usrs}"></apex:selectOptions>
                    </apex:selectList> 
                    <apex:inputtext id="partnerExecSponsorName_txt" value="{!partnerExecSponsorName}" />                         
                    <a href="#" onclick="openUserLookupPopup('CustomUserLookup','{!$Component.partnerExecSponsorName}', '{!$Component.partnerExecSponsorId}','{!$Component.partnerExecSponsorName_txt}','{!$Component.usrType_Exec}'); return false">
                        <img title="Partner User Lookup (New Window)" class="lookupIcon" alt="Partner User Lookup (New Window)" src="/s.gif"/>                 
                    </a>  </div>                       
                <apex:inputHidden id="partnerExecSponsorName" value="{!partnerExecSponsorName_1}"/> 
                <apex:inputHidden id="partnerExecSponsorId" value="{!Business_Plan_New__c.Partner_Executive_Sponsor__c}"/> 
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:inputField value="{!Business_Plan_New__c.Account_Manager__c}"/> 
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.Other_Partner_Contact__c.Label}"/> 
            <apex:outputPanel >
                <apex:selectList id="usrType_Other" value="{!usrTypeSelected}" size="1" rendered="{!!isPowerPartner}">
                    <apex:selectOptions value="{!usrs}"></apex:selectOptions>
                </apex:selectList> 
                <apex:inputtext id="otherPartnerContact_txt" value="{!otherPartnerContact}" />                         
                <a href="#" onclick="openUserLookupPopup('CustomUserLookup','{!$Component.otherPartnerContact}', '{!$Component.otherPartnerContactId}','{!$Component.otherPartnerContact_txt}','{!$Component.usrType_Other}'); return false">
                    <img title="Partner User Lookup (New Window)" class="lookupIcon" alt="Partner User Lookup (New Window)" src="/s.gif"/>                 
                </a>                        
                <apex:inputHidden id="otherPartnerContact" value="{!otherPartnerContact_1}"/> 
                <apex:inputHidden id="otherPartnerContactId" value="{!Business_Plan_New__c.Other_Partner_Contact__c}"/> 
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.GEO_Sales_VP__c.Label}"/>
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                     <apex:inputField value="{!Business_Plan_New__c.GEO_Sales_VP__c}"/>
                 </div>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageBlockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.Partner_Enablement_Coordinator__c.Label}"/> 
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    
                    <apex:selectList id="usrType_PEC01" value="{!usrTypeSelected}" size="1" rendered="{!!isPowerPartner}">
                        <apex:selectOptions value="{!usrs}"></apex:selectOptions>
                    </apex:selectList> 
                    <apex:inputtext id="Partner_Enablement_Coordinator_txt" value="{!Partner_Enablement_Coordinator}" />                         
                    <a href="#" onclick="openUserLookupPopup('CustomUserLookup','{!$Component.Partner_Enablement_Coordinator}', '{!$Component.Partner_Enablement_CoordinatorId}','{!$Component.Partner_Enablement_Coordinator_txt}','{!$Component.usrType_PEC01}'); return false">
                        <img title="Partner User Lookup (New Window)" class="lookupIcon" alt="Partner User Lookup (New Window)" src="/s.gif"/>                 
                    </a>  </div>                       
                <apex:inputHidden id="Partner_Enablement_Coordinator" value="{!Partner_Enablement_Coordinator_1}"/> 
                <apex:inputHidden id="Partner_Enablement_CoordinatorId" value="{!Business_Plan_New__c.Partner_Enablement_Coordinator__c}"/> 
            </apex:outputPanel>                       
            
        </apex:pageBlockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.GEO_Enablement__c.Label}"/>
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                     <apex:inputField value="{!Business_Plan_New__c.GEO_Enablement__c}"/>
                 </div>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.Approvers_01__c.Label}"/> 
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                    <apex:selectList id="usrType_Ap01" value="{!usrTypeSelected}" size="1" rendered="{!!isPowerPartner}">
                        <apex:selectOptions value="{!usrs}"></apex:selectOptions>
                    </apex:selectList> 
                    <apex:inputtext id="approver001_txt" value="{!approver001}" />                         
                    <a href="#" onclick="openUserLookupPopup('CustomUserLookup','{!$Component.approver001}', '{!$Component.approver001Id}','{!$Component.approver001_txt}','{!$Component.usrType_Ap01}'); return false">
                        <img title="Partner User Lookup (New Window)" class="lookupIcon" alt="Partner User Lookup (New Window)" src="/s.gif"/>                 
                    </a>  </div>                       
                <apex:inputHidden id="approver001" value="{!approver001_1}"/> 
                <apex:inputHidden id="approver001Id" value="{!Business_Plan_New__c.Approvers_01__c}"/> 
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.GEO_Program_Lead__c.Label}"/>
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                     <apex:inputField value="{!Business_Plan_New__c.GEO_Program_Lead__c}"/>
                 </div>
            </apex:outputPanel>
        </apex:pageblockSectionItem>  
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.Approvers_02__c.Label}"/> 
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                    <apex:selectList id="usrType_Ap02" value="{!usrTypeSelected}" size="1" rendered="{!!isPowerPartner}">
                        <apex:selectOptions value="{!usrs}"></apex:selectOptions>
                    </apex:selectList> 
                    <apex:inputtext id="approver002_txt" value="{!approver002}" />                         
                    <a href="#" onclick="openUserLookupPopup('CustomUserLookup','{!$Component.approver002}', '{!$Component.approver002Id}','{!$Component.approver002_txt}','{!$Component.usrType_Ap02}'); return false">
                        <img title="Partner User Lookup (New Window)" class="lookupIcon" alt="Partner User Lookup (New Window)" src="/s.gif"/>                 
                    </a>  </div>                       
                <apex:inputHidden id="approver002" value="{!approver002_1}"/> 
                <apex:inputHidden id="approver002Id" value="{!Business_Plan_New__c.Approvers_02__c}"/> 
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.GEO_Finance__c.Label}"/>
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                     <apex:inputField value="{!Business_Plan_New__c.GEO_Finance__c}"/>
                 </div>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:outputLabel value=""/>
         <apex:pageblockSectionItem >
            <apex:outputLabel style="color:#4c81ad;font-size:13px;" value="{!$ObjectType.Business_Plan_New__c.Fields.GEO_Marketing__c.Label}"/>
            <apex:outputPanel >
                <div class="requiredInput" layout="block">
                    <div class="requiredBlock" layout="block"/>
                     <apex:inputField value="{!Business_Plan_New__c.GEO_Marketing__c}"/>
                 </div>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputLabel value=""/>
            <apex:outputText value=""/>
        </apex:pageblockSectionItem>        
        <apex:pageblockSectionItem >
            <apex:outputLabel value=""/>
            <apex:outputText value=""/>
        </apex:pageblockSectionItem> 
        <apex:pageblockSectionItem >
            <apex:outputLabel value=""/>
            <apex:outputText value=""/>
        </apex:pageblockSectionItem> 
        <!-- samap01 10/31 US238114-->
        
        
        
    </apex:pageBlockSection> 
    
    
    <apex:pageblocksection title="{!$Label.BP_Products_Selected}" columns="1">    
        <apex:outputpanel >                           
            <table width="100%" class="territory fullwidth">
                <tr class="territory-row">
                    <th  width="20%" rowspan="2">{!$Label.BP_Route_to_Market}</th>
                    <th  width="20%" rowspan="2"> {!$Label.BP_Business_Unit}</th>
                    <th  width="20%" rowspan="2" style="display: {!IF((isGeoAccount),'none', '')};">{!$Label.BP_Product_Group}</th>
                    <th  Style="text-align:center" width="20%" colspan="12" align="center">{!$Label.BP_Resource_Count}</th>
                    <th  width="20%" rowspan="2">{!$Label.BP_JSO_Name}</th>
                    <th  width="20%" rowspan="2" style="display: {!IF((isGeoAccount),'none', '')};">{!$Label.BP_IsIncubateProduct}</th> <!--samap01-->                 
                </tr>
                <tr  height="100" class="territory-row" Style="table-layout: fixed;">
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Architect</div></td>
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Architect Other</div></td>
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Enablement Sponsor</div></td>
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Implementation</div></td>
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Implementation Other</div></td>
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Pre-Sales</div></td>
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Pre-Sales Other</div></td>
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Sales</div></td>
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Sales Other</div></td>
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Support</div></td>
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Support Other</div></td>  
                    
                    <td width="5%" Style="vertical-align:middle;overflow: hidden;" ><div Style="transform: rotate(-60deg)" >Other</div></td>
                </tr>
                <apex:repeat value="{!AddedPGs}" var="PG" id="theRepeat">
                    <tr class="territory-row">
                        <td >{!PG.myRTM}</td>
                        <td >{!PG.myBU}</td>
                        <td style="display: {!IF((isGeoAccount),'none', '')};">{!PG.myPG}</td>
                        <td Style="text-align:center">{!PG.Architect}</td>
                        <td Style="text-align:center">{!PG.ArchitectOther}</td>
                        <td Style="text-align:center">{!PG.EnablementSponsor}</td>
                        <td Style="text-align:center">{!PG.Implementation}</td>
                        <td Style="text-align:center">{!PG.ImplementationOther}</td>
                        <td Style="text-align:center">{!PG.PreSales}</td>
                        <td Style="text-align:center">{!PG.PreSalesOther}</td>
                        <td Style="text-align:center">{!PG.Sales}</td>
                        <td Style="text-align:center">{!PG.SalesOther}</td>
                        <td Style="text-align:center">{!PG.Support}</td>
                        <td Style="text-align:center">{!PG.SupportOther}</td>
                        <td Style="text-align:center">{!PG.Other}</td>    
                        <td >{!PG.myJSO}</td>
                        <!--samap01 - US238106-->
                        <td style="display: {!IF((isGeoAccount),'none', '')};">{!PG.Is_Incubate_Product}</td>
                    </tr>
                </apex:repeat>                  
            </table>
        </apex:outputpanel>
    </apex:pageBlockSection> 
    <br></br> 

<apex:pageblocksection title="{!$Label.BP_Summary_of_Bookings_Committed}" columns="1">
    <apex:outputpanel id="TargetRev1">
        <table class="territory fullwidth">
            <tr class="territory-row">
                <th>{!$Label.BP_Route_to_Market}</th>
                <th>{!$Label.BP_GEO}</th>
                <th class="text-right">{!$Label.BP_Q1} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q2} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q3} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th class="text-right">{!$Label.BP_Q4} ({!Business_Plan_New__c.Creator_Currency__c})</th>
                <th>{!$Label.BP_Total_Annual}({!Business_Plan_New__c.Creator_Currency__c})</th>                                                                                                                                                                       
            </tr>
            
            <apex:variable rendered="{!allianceBookingExists}" value="" var="tempOuter">
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Alliance__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ1Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ2Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ3Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceBookingQ4Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right total"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!allianceTotal}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                </tr>
            </apex:variable>
            
            <apex:variable rendered="{!SolProBookingExists}" value="" var="tempOuter">  
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Solution_Provider__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ1Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ2Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ3Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProBookingQ4Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right total"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SolProTotal}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                </tr>
            </apex:variable>
            
            <apex:variable rendered="{!SerProBookingExists}" value="" var="tempOuter">   
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Service_Provider__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ1Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ2Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ3Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProBookingQ4Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right total"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!SerProTotal}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                </tr>
            </apex:variable>
            <apex:variable rendered="{!DMBookingExists}" value="" var="tempOuter">   
                <tr class="territory-row">
                    <td width="20%" class="bgnone">{!$ObjectType.Business_Plan_New__c.Fields.Data_Management__c.Label}</td>
                    <td width="5%" class="bgnone"><apex:outputText value="{!Business_Plan_New__c.GEO__c}"/></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ1Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ2Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ3Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right highlight"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMBookingQ4Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                    <td width="15%" class="text-right total"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!DMTotal}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                </tr>                                                                              
            </apex:variable>
            
            <tr class="territory-row">
                <td width="20%" colspan="2" class="total">Total</td>
                <td width="15%" class="text-right total"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!BookingQ1Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                <td width="15%" class="text-right total"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!BookingQ2Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                <td width="15%" class="text-right total"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!BookingQ3Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                <td width="15%" class="text-right total"><apex:outputtext value="{0, number, ###,###,###,##0.00}"><apex:param value="{!BookingQ4Total}"/><apex:actionSupport event="onchange" rerender="PGTable1,RevSummary,SolRevSummary,TargetRev"/></apex:outputtext></td>
                <td width="15%" class="text-right total">
                    <c:BPCurrency value1="{!BookingGrandTotal}" currencyIsoCode1="{!Business_Plan_New__c.Creator_Currency__c}"/>                                
                    
                </td>
            </tr>
            
        </table> 
    </apex:outputpanel>
</apex:pageblocksection>                     
<br></br>
<br></br>   
<!-- SAMAP01 - US238115 -->
<apex:outputpanel styleClass="full-width">
    <apex:pageblocksection title="{!$Label.BP_Comments}">
        <apex:inputField value="{!Business_Plan_New__c.Approver_Comments__c}" label="" />
    </apex:pageblocksection>
</apex:outputpanel>
<!-- SAMAP01 -->
<apex:commandButton value="{!'< ' + $Label.BP_Prev}" action="{!prevTab}" reRender="tabPanel,Notes" styleClass="btn prev" oncomplete="scroll(0, 0)"/>                    
<apex:commandButton value="{!$Label.BP_Next + ' >'}" action="{!nextTab}" reRender="tabPanel,errors" styleClass="btn next" oncomplete="scroll(0, 0)" rendered="{!!isPowerPartner}"/>
<apex:commandButton oncomplete="check();" value="Save" styleClass="btn next" rendered="{!isPowerPartner}"/>
</apex:tab> 
<apex:tab label="{!$Label.BP_Partner_Engagement_Model}" name="7" disabled="{!engagementModelTabEnabled}" ontabenter="tabChange('7')" rendered="{!!isPowerPartner}"> 
    <table>
        <tr>
            <td width = "60%">
                <apex:pageBlockSection columns="2">  
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Onboard}" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem> 
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Partner_enrolled_in_Partner_Program}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:outputpanel >      
                            <apex:actionregion >
                                <apex:inputfield value="{!Business_Plan_New__c.Partner_enrolled_in_Partner_Program__c}">
                                    <apex:actionSupport event="onchange" action="{!EnrolePartnerProgramInprogress}" rerender="EnrolePartnerProgramPercentage,EnrolePartnerProgramPercentageCompleteLabel"/>
                                </apex:inputfield>
                            </apex:actionregion>
                            <apex:inputfield value="{!Business_Plan_New__c.Partner_enrolled_in_Program_percentage__c}" id="EnrolePartnerProgramPercentage" style="{!PMEnrolledInPartnerProgramPercentDisplay}" />
                            <apex:outputLabel value=" complete" style="{!PMEnrolledInPartnerProgramPercentDisplay}" id="EnrolePartnerProgramPercentageCompleteLabel"/> 
                        </apex:outputpanel>
                    </apex:pageblockSectionItem>               
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Welcome_kit_delivered__c.Label}"/>
                        <apex:inputfield value="{!Business_Plan_New__c.Welcome_kit_delivered__c}"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_CA_account_resources_introduced}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:inputfield value="{!Business_Plan_New__c.CA_account_resources_introduced__c}"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Introduce_to_program_tools}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:outputpanel >      
                            <apex:actionregion >
                                <apex:inputfield value="{!Business_Plan_New__c.Introduce_to_program_and_tools__c}">
                                    <apex:actionSupport event="onchange" action="{!IntroduceToProgramToolsInprogress}" rerender="IntroductToProgramToolsPercentage,IntroductToProgramToolsPercentageCompleteLabel"/>
                                </apex:inputfield>
                            </apex:actionregion>
                            <apex:inputfield value="{!Business_Plan_New__c.Introduce_to_program_tools_percentage__c}" id="IntroductToProgramToolsPercentage" style="{!IntroductToProgramToolsPercentDisplay}" />
                            <apex:outputLabel value=" complete" style="{!IntroductToProgramToolsPercentDisplay}" id="IntroductToProgramToolsPercentageCompleteLabel"/> 
                        </apex:outputpanel>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Executive_sponsor_engaged__c.Label}"/>
                        <apex:inputfield value="{!Business_Plan_New__c.Executive_sponsor_engaged__c}"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>    
            </td>
            <td>
                <apex:pageBlockSection >  
                    <apex:pageblockSectionItem >
                        <apex:image id="theImage" value="{!$Resource.bp_onboarding}" width="120" height="120"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>
            </td>
        </tr>
        <tr>
            <td span="2"><apex:outputText value="" styleClass="dataCol first "/>
            </td>
        </tr>
        <tr>
            <td width = "60%">
                <apex:pageBlockSection columns="2">  
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Plan}" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem> 
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Business_plan_completed__c.Label}"/>
                        <apex:outputpanel >      
                            <apex:actionregion >
                                <apex:inputfield value="{!Business_Plan_New__c.Business_plan_completed__c}">
                                    <apex:actionSupport event="onchange" action="{!BusinessPlanCompletedInprogess}" rerender="BusinessPlanCompletedPercentage,BusinessPlanCompletedCompleteLabel"/>
                                </apex:inputfield>
                            </apex:actionregion>
                            <apex:inputfield value="{!Business_Plan_New__c.Business_plan_completed_percentage__c}" id="BusinessPlanCompletedPercentage" style="{!BusinessPlanCompletedPercentDisplay}" />
                            <apex:outputLabel value=" complete" style="{!BusinessPlanCompletedPercentDisplay}" id="BusinessPlanCompletedCompleteLabel"/> 
                        </apex:outputpanel>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Joint_Account_mapping_initiated__c.Label}"/>
                        <apex:outputpanel >      
                            <apex:actionregion >
                                <apex:inputfield value="{!Business_Plan_New__c.Joint_Account_mapping_initiated__c}">
                                    <apex:actionSupport event="onchange" action="{!JointAccMappingInitiatedInprogess}" rerender="JointAccMappingInitiatedPercentage,JointAccMappingInitiatedCompleteLabel"/>
                                </apex:inputfield>
                            </apex:actionregion>
                            <apex:inputfield value="{!Business_Plan_New__c.Joint_Acc_mapping_initiated_percentage__c}" id="JointAccMappingInitiatedPercentage" style="{!JointAccMappingInitiatedPercentDisplay}" />
                            <apex:outputLabel value=" complete" style="{!JointAccMappingInitiatedPercentDisplay}" id="JointAccMappingInitiatedCompleteLabel"/> 
                        </apex:outputpanel>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Marketing_plan_completed__c.Label}"/>
                        <apex:outputpanel >      
                            <apex:actionregion >
                                <apex:inputfield value="{!Business_Plan_New__c.Marketing_plan_completed__c}">
                                    <apex:actionSupport event="onchange" action="{!MarketingPlanCompletedInprogress}" rerender="MarketingPlanCompletedPercentage,MarketingPlanCompletedCompleteLabel"/>
                                </apex:inputfield>
                            </apex:actionregion>
                            <apex:inputfield value="{!Business_Plan_New__c.Marketing_plan_completed_percentage__c}" id="MarketingPlanCompletedPercentage" style="{!MarketingPlanCompletedPercentDisplay}" />
                            <apex:outputLabel value=" complete" style="{!MarketingPlanCompletedPercentDisplay}" id="MarketingPlanCompletedCompleteLabel"/> 
                        </apex:outputpanel>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Develop_enablement_plan}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:outputpanel >      
                            <apex:actionregion >
                                <apex:inputfield value="{!Business_Plan_New__c.Develop_enablement_plan__c}">
                                    <apex:actionSupport event="onchange" action="{!DevelopEnablementPlanInprogress}" rerender="DevelopEnablementPlanPercentage,DevelopEnablementPlanCompleteLabel"/>
                                </apex:inputfield>
                            </apex:actionregion>
                            <apex:inputfield value="{!Business_Plan_New__c.Develop_enablement_plan_percentage__c}" id="DevelopEnablementPlanPercentage" style="{!DevelopEnablementPlanPercentDisplay}" />
                            <apex:outputLabel value=" complete" style="{!DevelopEnablementPlanPercentDisplay}" id="DevelopEnablementPlanCompleteLabel"/> 
                        </apex:outputpanel>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Digital_Sales_Presales_POC_Aligned__c.Label}"/>
                        <apex:outputpanel >      
                            <apex:actionregion >
                                <apex:inputfield value="{!Business_Plan_New__c.Digital_Sales_Presales_POC_Aligned__c}">
                                    <apex:actionSupport event="onchange" action="{!DigitalPOCAlignedInprogess}" rerender="DigitalPOCAlignedPercentage,DigitalPOCAlignedCompleteLabel"/>
                                </apex:inputfield>
                            </apex:actionregion>
                            <apex:inputfield value="{!Business_Plan_New__c.Digital_POC_Aligned_percentage__c}" id="DigitalPOCAlignedPercentage" style="{!DigitalPOCAlignedPercentDisplay}" />
                            <apex:outputLabel value=" complete" style="{!DigitalPOCAlignedPercentDisplay}" id="DigitalPOCAlignedCompleteLabel"/> 
                        </apex:outputpanel>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>    
            </td>
            <td>
                <apex:pageBlockSection >  
                    <apex:pageblockSectionItem >
                        <apex:image id="theImage" value="{!$Resource.bp_plan}" width="120" height="120"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>
            </td>
        </tr>
        <tr>
            <td span="2"><apex:outputText value="" styleClass="dataCol first "/>
            </td>
        </tr>
        <tr>
            <td width = "60%">
                <apex:pageBlockSection columns="2">  
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Educate}" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem> 
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Partner_educated_on_CA_resources_and_tools}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:inputfield value="{!Business_Plan_New__c.Educated_on_CA_resources_and_tools__c}"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Partner_education_started__c.Label}"/>
                        <apex:inputfield value="{!Business_Plan_New__c.Partner_education_started__c}"/>      
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Minimum_education_requirements_met}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:outputpanel >      
                            <apex:actionregion >
                                <apex:inputfield value="{!Business_Plan_New__c.Minimum_education_requirements_met__c}">
                                    <apex:actionSupport event="onchange" action="{!MinEducationReqMetInprogress}" rerender="MinEducationReqMetPercentage,MinEducationReqMetCompleteLabel"/>
                                </apex:inputfield>
                            </apex:actionregion>
                            <apex:inputfield value="{!Business_Plan_New__c.min_education_req_met_percentage__c}" id="MinEducationReqMetPercentage" style="{!MinEducationReqMetPercentDisplay}" />
                            <apex:outputLabel value=" complete" style="{!MinEducationReqMetPercentDisplay}" id="MinEducationReqMetCompleteLabel"/> 
                        </apex:outputpanel>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>    
            </td>
            <td>
                <apex:pageBlockSection >  
                    <apex:pageblockSectionItem >
                        <apex:image id="theImage" value="{!$Resource.bp_educate}" width="120" height="120"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>
            </td>
        </tr>
        <tr>
            <td span="2"><apex:outputText value="" styleClass="dataCol first "/>
            </td>
        </tr>
        <tr>
            <td width = "60%">
                <apex:pageBlockSection columns="2">  
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Execute}" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem> 
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Marketing_and_demand_generation_activities_started}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:inputfield value="{!Business_Plan_New__c.Marketing_activities_started__c}"/>
                    </apex:pageblockSectionItem>  
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Engaged_with_partner_in_joint_opportunity_planning}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:inputfield value="{!Business_Plan_New__c.Engaged_partner_in_joint_opportunity__c}"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Create_a_review_process_and_cadence_for_pipeline_forecast_with_Partner}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:inputfield value="{!Business_Plan_New__c.Create_a_review_process_and_cadence__c}"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Engaging_partner_in_Regional_QBR__c.Label}"/>
                        <apex:inputfield value="{!Business_Plan_New__c.Engaging_partner_in_Regional_QBR__c}"/>      
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>    
            </td>
            <td>
                <apex:pageBlockSection >  
                    <apex:pageblockSectionItem >
                        <apex:image id="theImage" value="{!$Resource.bp_execute}" width="120" height="120"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>
            </td>
        </tr>
        <tr>
            <td span="2"><apex:outputText value="" styleClass="dataCol first "/>
            </td>
        </tr>
        <tr>
            <td width = "60%">
                <apex:pageBlockSection columns="2">  
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Communicate}" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem> 
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Establish_an_ongoing_business_review}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:inputfield value="{!Business_Plan_New__c.Establish_an_ongoing_business_review__c}"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Internal_CA_cross_functional_resources}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:inputfield value="{!Business_Plan_New__c.Internal_CA_cross_functional_resources__c}"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Communication_Plan_for_Partner_achievements}"/> <!-- The field label has 40 character limit, so using custom label -->
                        <apex:inputfield value="{!Business_Plan_New__c.Communication_Plan_for_Partner_achieve__c}"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>    
            </td>
            <td>
                <apex:pageBlockSection >  
                    <apex:pageblockSectionItem >
                        <apex:image id="theImage" value="{!$Resource.bp_communicate}" width="120" height="120"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>
            </td>
        </tr>
        <tr>
            <td span="2"><apex:outputText value="" styleClass="dataCol first "/>
            </td>
        </tr>
        <tr>
            <td width = "60%">
                <apex:pageBlockSection columns="2">  
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Reward}" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem> 
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Program_benefits_delivered__c.Label}"/>
                        <apex:inputfield value="{!Business_Plan_New__c.Program_benefits_delivered__c}"/>      
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Promote_partner_successes__c.Label}"/>
                        <apex:outputpanel >      
                            <apex:actionregion >
                                <apex:inputfield value="{!Business_Plan_New__c.Promote_partner_successes__c}">
                                    <apex:actionSupport event="onchange" action="{!PromotePartnerSuccessesInprogress}" rerender="PromotePartnerSuccessesPercentage,PromotePartnerSuccessesCompleteLabel"/>
                                </apex:inputfield>
                            </apex:actionregion>
                            <apex:inputfield value="{!Business_Plan_New__c.Promote_partner_successes_percentage__c}" id="PromotePartnerSuccessesPercentage" style="{!PromotePartnerSuccessesPercentDisplay}" />
                            <apex:outputLabel value=" complete" style="{!PromotePartnerSuccessesPercentDisplay}" id="PromotePartnerSuccessesCompleteLabel"/> 
                        </apex:outputpanel>    
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>    
            </td>
            <td>
                <apex:pageBlockSection >  
                    <apex:pageblockSectionItem >
                        <apex:image id="theImage" value="{!$Resource.bp_reward}" width="120" height="120"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>
            </td>
        </tr>
        <tr>
            <td span="2"><apex:outputText value="" styleClass="dataCol first "/>
            </td>
        </tr>
        <tr>
            <td width = "60%">
                <apex:pageBlockSection columns="2">  
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$Label.BP_Assess}" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem> 
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="" styleClass="greenhead"/>
                        <apex:outputText value="" styleClass="greenhead"/>
                    </apex:pageblockSectionItem>
                    <apex:pageblockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Business_Plan_New__c.Fields.Partnership_assessment_conducted__c.Label}"/>
                        <apex:outputpanel >      
                            <apex:actionregion >
                                <apex:inputfield value="{!Business_Plan_New__c.Partnership_assessment_conducted__c}">
                                    <apex:actionSupport event="onchange" action="{!PartnershipAssessmentConductedInprogress}" rerender="PartnershipAssessmentConductedPercentage,PartnershipAssessmentConductedCompleteLabel"/>
                                </apex:inputfield>
                            </apex:actionregion>
                            <apex:inputfield value="{!Business_Plan_New__c.Partnership_assessment_conducted_percent__c}" id="PartnershipAssessmentConductedPercentage" style="{!PartnershipAssessmentConductedPercentDisplay}" />
                            <apex:outputLabel value=" complete" style="{!PartnershipAssessmentConductedPercentDisplay}" id="PartnershipAssessmentConductedCompleteLabel"/> 
                        </apex:outputpanel>        
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>    
            </td>
            <td>
                <apex:pageBlockSection >  
                    <apex:pageblockSectionItem >
                        <apex:image id="theImage" value="{!$Resource.bp_access}" width="120" height="120"/>
                    </apex:pageblockSectionItem>
                </apex:pageBlockSection>
            </td>
        </tr>
    </table>
    <br></br>
<br></br>                                                
<apex:commandButton value="{!'< ' + $Label.BP_Prev}" action="{!prevTab}" reRender="tabPanel,Notes" styleClass="btn prev" oncomplete="scroll(0, 0)"/> 
<apex:commandButton oncomplete="check();" value="Save" styleClass="btn next" />   
</apex:tab>
</apex:tabPanel>
<apex:inputHidden id="contactEmail" value="{!testText}"/>
<apex:inputHidden id="contactPhone" value="{!testText}"/> 
<apex:inputHidden id="contactMobile" value="{!testText}"/>   
<apex:inputHidden id="contactFax" value="{!testText}"/> 
<apex:inputHidden id="contactTitle" value="{!testText}"/> 
<apex:inputHidden id="hdnContactName" value="{!testText}"/>

</apex:pageBlock>
</apex:form>
<apex:outputpanel id="Notes">      
    <apex:relatedList rendered="{!if((currentTab=='6'), true, false)}" list="CombinedAttachments" />  
</apex:outputpanel>
</apex:page>